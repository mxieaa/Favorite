{"version":3,"sources":["actions/index.js","utils.js","components/Question.js","reducers/index.js","components/Welcome.js","components/Histogram.js","components/HistogramPrefer.js","components/three.js","components/ConvexHull.js","components/Legend.js","components/PointsHull.js","components/PreferenceSpace.js","components/Visuals.js","components/Stats.js","components/Interaction.js","components/Result.js","components/App.js","index.js","assets/imgs/logo-black.png","assets/imgs/favorite.png"],"names":["setActiveComponent","component","type","setLeftPrefer","num","parsePoints","text","trim","split","slice","map","line","str","parseFloat","parseLabels","smallerBetter","candidatesVec","isSelected","getRanges","points","ranges","x","low","high","forEach","point","i","Math","min","max","loadDataset","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","pointsURL","labelsURL","response","labels","wrap","_context","prev","next","fetch","sent","t0","t1","undefined","abrupt","t2","t3","stop","_x","_x2","apply","this","arguments","selectCandidates","mask","maxPoints","val","candidates","length","isValid","j","push","array2Vector2D","array","vector","window","Module","VecVecDouble","arr","vec","VectorDouble","push_back","delete","vector2Array2D","size","get","vector2Array","array2Vector","getPrunedIndices","prevIndices","currIndices","prunedIndices","dominates","p1","p2","at","getSkyline","dominated","m","index","console","log","sl","Array","pt","combineReducers","activeComponent","state","action","attributes","_ref2","slicedToArray","attr","objectSpread","prunedPoints","indices","idx","step","concat","toConsumableArray","leftPoints","filter","indexOf","numLeftPoints","numLeftPrefer","mode","K","vertices","Welcome","upload","target","document","createElement","accept","click","onchange","e","path","files","reader","FileReader","readAsText","onload","points_attr","result","isNaN","item","rangesItem","alert","_this","props","setDataset","handleStart","attNum","values","_this$props$attribute","config","range","inputs","current","value","test","parseInt","includes","prompt","changeK","_ref3","_ref4","skyline","startAlgorithm","handleChange","event","changeMode","_this2","_ref5","_ref6","React","createRef","trs","_ref7","_ref8","disabled","react_default","key","className","onClick","toggleMask","style","cursor","textDecoration","placeholder","ref","checked","onChange","setState","background","padding","borderRadius","color","textAlign","maxWidth","alt","location","reload","src","imgURL","width","position","top","left","title","right","imgFavorite","Component","connect","_ref9","dispatch","setCandidates","defineProperty","Question","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","selectedPoint","runner","getIndices","d1","Date","Next_IncGreedy","d2","_performanceIndex","performanceIndex","y","getMrr","runtime","mrr","choose","option","convexHullVertices","readConvexHullVertices","maxDist","readMaxDist","updateConvexHull","getCandidatesIndices","questioNo","prunePoints","stopInteraction","nextPair","pair","showResult","inputDimension","D","floor","random","jsArray","n","NaN","some","globalBest_localBest","global_local_regret","globalBest","get_globalBestId","localBest","get_localBestId","regretRatio","get_regret_ratio","VectorInt","SevenAlgorithmRunner","DMM","cube","sphere","graphDP","biSearch","sweepDP","IncGreedy","pageResult","AlgorithmRunner","Random","Simplex","Parti","setLeftPoints","ths","tds","data-toggle","id","fontSize","borderBottom","display","justifyContent","margin","height","react_vis_es","onMouseLeave","hintValue","tickValues","tickFormat","toString","ticks","fill","includeMargin","xPercent","yPercent","transform","textAnchor","onNearestX","data","animation","toFixed","Histogram","_onMouseLeave","_onNearestX","HistogramPrefer","THREE","require","SCALE","FACTOR","ConvexHull","drawGeometry","newVers","tmp","vertex","scaled_vertex","construct","Vector3","geometry","ConvexGeometry","material","MeshBasicMaterial","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","opacity","transparent","mesh","Mesh","geo","EdgesGeometry","mat","LineBasicMaterial","linewidth","wireframe","LineSegments","add","scene","addAxes","axes","AxesHelper","typeface","font","Font","PI","sqrt","_mesh$position","_mesh$rotation","rotation","shape","generateShapes","ShapeBufferGeometry","side","DoubleSide","set","lines","_line$position","_line$rotation","Geometry","Line","start","frameId","requestAnimationFrame","animate","cancelAnimationFrame","controls","update","renderer","render","camera","mount","clientWidth","clientHeight","Scene","PerspectiveCamera","up","OrbitControls","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","prevProps","remove","dispose","removeChild","alignItems","backgroundColor","SlideItem","Legend","settings","dots","infinite","speed","slidesToShow","slidesToScroll","vertical","verticalSwiping","arrows","swipeToSlide","afterChange","changeStartingIndex","verticalAlign","slider","slickPrev","index_es","icon","faAngleUp","lib_default","assign","self","slickNext","faAngleDown","PointsHull","p","texture","TextureLoader","load","ballIcon","PointsMaterial","sizeAttenuation","alphaTest","field","Points","PreferenceSpace","updateContextHullVertices","vertext","vert","updatePointsHullVertices","pointsHullVertices","classname","components_ConvexHull","components_Legend","components_PointsHull","Visuals","components_Histogram","components_HistogramPrefer","components_PreferenceSpace","Stats","prunedTrs","leftTrs","flexDirection","classNames","table-fixed","minWidth","components_Question","components_Visuals","components_Stats","restart","th","components_Welcome","components_Interaction","components_Result","onRuntimeInitialized","_onRuntimeInitialized","_yield$loadDataset","_yield$loadDataset2","store","createStore","rootReducer","es","components_App","getElementById","script","async","body","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.d34ddafd.chunk.js","sourcesContent":["export const SET_ACTIVE_COMPONENT = \"SET_ACTIVE_COMPONENT\";\r\nexport const SET_CANDIDATES = \"SET_CANDIDATES\";\r\nexport const SET_DATASET = \"SET_DATASET\";\r\nexport const TOGGLE_MASK = \"TOGGLE_MASK\";\r\nexport const PRUNE_POINTS = \"PRUNE_POINTS\";\r\nexport const SET_LEFT_POINTS = \"SET_LEFT_POINTS\";\r\nexport const SET_LEFT_PREFER = \"SET_LEFT_PREFER\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const SET_K = \"SET_K\";\r\nexport const RESTART = \"RESTART\";\r\nexport const UPDATE_CONVEX_HULL = \"UPDATE_CONVEX_HULL\";\r\n\r\nexport const setActiveComponent = component => ({\r\n  type: SET_ACTIVE_COMPONENT,\r\n  component\r\n});\r\n\r\nexport const setCandidates = candidates => ({\r\n  type: SET_CANDIDATES,\r\n  candidates\r\n});\r\n\r\nexport const setDataset = (points, labels, attributes) => ({\r\n  type: SET_DATASET,\r\n  points,\r\n  labels,\r\n  attributes\r\n});\r\n\r\nexport const toggleMask = (attr, val) => ({\r\n  type: TOGGLE_MASK,\r\n  mask: { [attr]: val }\r\n});\r\n\r\nexport const prunePoints = (indices, step) => ({\r\n  type: PRUNE_POINTS,\r\n  indices,\r\n  step\r\n});\r\n\r\nexport const setLeftPoints = indices => ({\r\n  type: SET_LEFT_POINTS,\r\n  indices\r\n});\r\n\r\nexport const setLeftPrefer = num => ({\r\n  type: SET_LEFT_PREFER,\r\n  num\r\n});\r\n\r\nexport const changeMode = mode => ({\r\n  type: SET_MODE,\r\n  mode\r\n});\r\n\r\nexport const changeK = K => ({\r\n  type: SET_K,\r\n  K\r\n});\r\n\r\nexport const restart = () => ({\r\n  type: RESTART\r\n});\r\n\r\nexport const updateConvexHull = vertices => ({\r\n  type: UPDATE_CONVEX_HULL,\r\n  vertices\r\n});\r\n","// read points from a text file\nexport function parsePoints(text) {\n  const points = text\n    .trim()\n    .split(\"\\n\")\n    .slice(1) // the first line is <numOfPoints> <dimension>\n    .map(line =>\n      line\n        .trim()\n        .split(/\\s+/)\n        .map(str => parseFloat(str))\n    );\n  return points;\n}\n\n// read labels from a text file\nexport function parseLabels(text) {\n  const labels = text.trim().split(\"\\n\");\n  return labels;\n}\n\n// check if val is in the range [low, high].\nfunction isInRange(val, low, high) {\n  return low <= val && val <= high;\n}\n\n// get the range of each attribute in a set of points.\nexport const getRanges = points => {\n  const ranges = points[0].map(x => ({ low: x, high: x }));\n  points.slice(1).forEach(point => {\n    point.forEach((x, i) => {\n      ranges[i].low = Math.min(ranges[i].low, x);\n      ranges[i].high = Math.max(ranges[i].high, x);\n    });\n  });\n  return ranges;\n};\n\n// load a dataset by reading its points and labels.\nexport const loadDataset = async (pointsURL, labelsURL) => {\n  let response = await fetch(pointsURL);\n  const points = parsePoints(await response.text());\n  if (labelsURL === undefined) {\n    return points;\n  }\n  response = await fetch(labelsURL);\n  const labels = parseLabels(await response.text());\n  return [points, labels];\n};\n\n// get points that are in the specified ranges.\nexport const selectCandidates = (points, ranges, mask, maxPoints) => {\n  const candidates = [];\n  for (let i = 0; i < points.length; ++i) {\n    if (candidates.length >= maxPoints) break;\n    const point = points[i];\n    let isValid = true;\n    for (let j = 0; j < point.length; ++j) {\n      if (mask[j] && !isInRange(point[j], ranges[j][0], ranges[j][1])) {\n        isValid = false;\n        break;\n      }\n    }\n    if (isValid) candidates.push(point);\n  }\n  return candidates;\n};\n\n// convert a JS array to a C++ 2D vector\nexport const array2Vector2D = array => {\n  const vector = new window.Module.VecVecDouble();\n  array.forEach(arr => {\n    const vec = new window.Module.VectorDouble();\n    arr.forEach(x => vec.push_back(x));\n    vector.push_back(vec);\n    vec.delete();\n  });\n  return vector;\n};\n\n// convert a C++ 2D vector to a JS array\nexport const vector2Array2D = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    const vec = vector.get(i);\n    const arr = [];\n    for (let j = 0; j < vec.size(); ++j) arr.push(vec.get(j));\n    array.push(arr);\n  }\n  return array;\n};\n\n// convert a C++ vector to a JS array\nexport const vector2Array = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    array.push(vector.get(i));\n  }\n  return array;\n};\n\n// convert a JS array to a C++ vector\nexport const array2Vector = array => {\n  const vec = new window.Module.VectorDouble();\n  array.forEach(x => vec.push_back(x));\n  return vec;\n};\n\n\n\n// get the indices of points pruned.\n// both prevIndices and currIndices need to be sorted.\nexport const getPrunedIndices = (prevIndices, currIndices) => {\n  let prunedIndices = [];\n  for (let i = 0, j = 0; i < prevIndices.size() || j < currIndices.size();) {\n    if (j >= currIndices.size() || prevIndices.get(i) < currIndices.get(j)) {\n      prunedIndices.push(prevIndices.get(i));\n      ++i;\n    } else {\n      ++i;\n      ++j;\n    }\n  }\n  return prunedIndices;\n};\n\nconst dominates = (p1, p2, smallerBetter, isSelected) => {\n  let i;\n  for (i = 0; i < p1.length; i++) {\n    // console.log('121313', isSelected[i], p1.length);\n    // if (isSelected) {\n    //   console.log('121313', isSelected, smallerBetter);\n    // }\n    // if (isSelected == undefined) {\n    //   console.log('dwadadw');\n    // }\n    if (isSelected.at(i) == 1) {\n      // if ( isSelected.at(i) == 1) {\n      // console.log('121313', isSelected[i], smallerBetter[i]);\n      if (smallerBetter[i] == 1) {\n        if (p1[i] > p2[i]) return 0;\n      } else {\n        if (p1[i] < p2[i]) return 0;\n      }\n    }\n  }\n  return 1;\n}\n\nexport const getSkyline = (points, smallerBetter, isSelected) => {\n  let i, j, dominated, index = 0, m;\n  console.log(smallerBetter, isSelected);\n  let sl = new Array(points.length);\n  for (i = 0; i < points.length; i++) {\n\n    dominated = 0;\n    const pt = points.at(i).slice();\n\n    for (j = 0; j < index && !dominated; ++j) {\n      if (dominates(points[sl[j]], pt, smallerBetter, isSelected))\n        dominated = 1;\n    }\n\n    if (!dominated) {\n      m = index;\n      index = 0;\n      for (j = 0; j < m; j++) {\n        if (!dominates(pt, points[sl[j]], smallerBetter, isSelected)) {\n          sl[index++] = sl[j];\n        }\n      }\n      sl[index++] = i;\n    }\n  }\n  return index;\n}\n\nexport const dist = (p, q) => {\n  let res = 0;\n  for (let i = 0; i < p.length; i++) {\n    res += Math.abs(p[i] = q[i]);\n  }\n  return res;\n}\n\nexport const getMaxDist = (vertices) => {\n  console.log('getMaxDist', vertices);\n  let maxDist = 0;\n  for (let i = 0; i < vertices.length; i++) {\n    for (let j = 0; j < vertices.length; j++) {\n      let p = vertices.at(i);\n      let q = vertices.at(j);\n      if (dist(p, q) > maxDist) {\n        maxDist = dist(p, q);\n      }\n    }\n  }\n  console.log('getMaxDist res', maxDist);\n  return maxDist;\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setActiveComponent,\r\n  setLeftPoints,\r\n  prunePoints,\r\n  updateConvexHull,\r\n  setLeftPrefer\r\n} from \"../actions\";\r\nimport {\r\n  array2Vector2D,\r\n  array2Vector,\r\n  vector2Array,\r\n  getPrunedIndices,\r\n  vector2Array2D,\r\n  getMaxDist\r\n} from \"../utils\";\r\nimport {\r\n  FlexibleXYPlot,\r\n  XAxis,\r\n  YAxis,\r\n  Hint,\r\n  VerticalBarSeries,\r\n  ChartLabel\r\n} from \"react-vis\";\r\nvar smallerBetter, candidatesVec, isSelected;\r\n\r\n// iteratively ask the user to choose the preferred car from a pair of cars.\r\nclass Question extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    smallerBetter = new window.Module.VectorInt();\r\n    isSelected = new window.Module.VectorInt();\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      console.log(this.props.mask[attr])\r\n      isSelected.push_back(this.props.mask[attr])\r\n      if (this.props.mask[attr]) {\r\n        smallerBetter.push_back(config.smallerBetter ? 1 : 0);\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    console.log(this.props.candidates)\r\n    candidatesVec = array2Vector2D(this.props.candidates);\r\n    // console.log('mode', this.props.mode)\r\n    // new algorithm\r\n    if (!['Random', 'Simplex', 'Parti'].includes(this.props.mode)) {\r\n      var d1 = new Date();\r\n      this.runner = new window.Module.SevenAlgorithmRunner(\r\n        candidatesVec,\r\n        smallerBetter,\r\n        isSelected,\r\n        { 'DMM': 4, 'cube': 5, 'sphere': 6, 'graphDP': 7, 'biSearch': 8, 'sweepDP': 9, 'IncGreedy': 10 }[this.props.mode],\r\n        this.props.K\r\n      );\r\n      var d2 = new Date();\r\n      this.state = {\r\n        performanceIndex: [{\r\n          x: 0,\r\n          y: this.runner.getMrr(),\r\n          runtime: d2 - d1,\r\n          mrr: this.runner.getMrr()\r\n        }]\r\n      }\r\n      console.log(this.runner)\r\n      candidatesVec.delete();\r\n      return this.pageResult = 'NewAlgorithm'\r\n    }\r\n\r\n    // old algorithm\r\n    this.runner = new window.Module.AlgorithmRunner(\r\n      candidatesVec,\r\n      smallerBetter,\r\n      isSelected,\r\n      { 'Random': 1, 'Simplex': 2, 'Parti': 3 }[this.props.mode]\r\n    );\r\n    console.log(this.runner)\r\n    candidatesVec.delete();\r\n    this.prevIndices = this.runner.getCandidatesIndices();\r\n    this.props.setLeftPoints(vector2Array(this.prevIndices));\r\n    if (this.prevIndices.size() < 2) {\r\n      this.state = { pair: [] };\r\n      this.stopInteraction();\r\n    } else {\r\n      const vec = window.Module.readConvexHullVertices();\r\n      const maxDist = window.Module.readMaxDist();\r\n      const convexHullVertices = vector2Array2D(vec);\r\n      vec.delete();\r\n      console.log('create convexhullvertices:', convexHullVertices, maxDist);\r\n      this.props.updateConvexHull(convexHullVertices);\r\n      this.props.setLeftPrefer(maxDist);\r\n      const indices = this.runner.nextPair();\r\n      this.state = {\r\n        pair: vector2Array(indices)\r\n      };\r\n    }\r\n    return this.pageResult = 'OldAlgorithm'\r\n  }\r\n\r\n  next = () => {\r\n    const selectedPoint = vector2Array(this.runner.getIndices())\r\n    if (this.selectedPoint && this.selectedPoint.length === selectedPoint.length) return;\r\n    this.selectedPoint = selectedPoint\r\n    var d1 = new Date();\r\n    this.runner.Next_IncGreedy()\r\n    var d2 = new Date();\r\n    console.log(d2 - d1);\r\n    var _performanceIndex = this.state.performanceIndex\r\n    _performanceIndex.push({\r\n      x: _performanceIndex.length,\r\n      y: this.runner.getMrr(),\r\n      runtime: d2 - d1,\r\n      mrr: this.runner.getMrr()\r\n    })\r\n    this.setState({ performanceIndex: _performanceIndex })\r\n    // candidatesVec.delete();\r\n  }\r\n\r\n  choose = idx => {\r\n    const option = idx + 1;\r\n    this.runner.choose(option);\r\n    const convexHullVertices = vector2Array2D(\r\n      window.Module.readConvexHullVertices()\r\n    );\r\n    const maxDist = window.Module.readMaxDist();\r\n    console.log('read convexhullvertices:', convexHullVertices, maxDist);\r\n    // console.log('dist vertexs 1', convexHullVertices);\r\n\r\n    // console.log('maxDist', maxDist);\r\n    // this.props.setLeftPrefer(maxDist);\r\n    // console.log('vertices to paint', convexHullVertices)\r\n    this.props.updateConvexHull(convexHullVertices)\r\n    this.props.setLeftPrefer(maxDist);\r\n    const currIndices = this.runner.getCandidatesIndices();\r\n    const prunedIndices = getPrunedIndices(this.prevIndices, currIndices);\r\n    const questioNo = this.props.numLeftPoints.length;\r\n    this.props.prunePoints(prunedIndices, questioNo);\r\n    this.prevIndices.delete();\r\n    this.prevIndices = currIndices;\r\n    if (currIndices.size() < 2) {\r\n      this.stopInteraction();\r\n    } else {\r\n      const indices = this.runner.nextPair();\r\n      this.setState({\r\n        pair: vector2Array(indices)\r\n      });\r\n    }\r\n  };\r\n\r\n  stopInteraction = () => {\r\n    this.prevIndices.delete();\r\n    this.runner.delete();\r\n    this.props.showResult();\r\n  };\r\n\r\n\r\n  inputDimension = () => {\r\n    var D = prompt('Please input ' + this.attributes.length + ' dimensions. e.g: one integer value for each attribute. A larger value indicates that the corresponding attribute is more important. e.g.', this.attributes.map((i) => Math.floor(Math.random() * 10)))\r\n    if (!D) return\r\n    var jsArray = D.trim().split(',').map((n) => parseInt(n))\r\n    if (jsArray.includes(NaN) || jsArray.length !== this.attributes.length || jsArray.some((i) => i < 0)) return alert('Illegal number set!')\r\n    this.runner.globalBest_localBest(array2Vector(jsArray))\r\n    this.global_local_regret = { globalBest: this.props.candidates[this.runner.get_globalBestId()], localBest: this.props.candidates[this.runner.get_localBestId()], regretRatio: this.runner.get_regret_ratio() }\r\n    this.setState({ global_local_regret: this.global_local_regret })\r\n  }\r\n\r\n  render() {\r\n    if (this.pageResult === 'OldAlgorithm') {\r\n      const ths = [<th key=\"Option No.\">Option</th>];\r\n      this.attributes.forEach(attr => {\r\n        ths.push(<th key={attr}>{attr}</th>);\r\n      });\r\n      ths.push(<th key=\"chooseButton\" />);\r\n\r\n      const trs = this.state.pair.map((idx, i) => {\r\n        const tds = [<td key=\"Option No.\">{i + 1}</td>];\r\n        this.props.candidates[idx].forEach((x, j) => {\r\n          if (this.props.mask[this.props.attributes[j][0]]) {\r\n            tds.push(<td key={j}>{x}</td>);\r\n          }\r\n        });\r\n        tds.push(\r\n          <td key=\"chooseButton\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-success btn-sm\"\r\n              onClick={() => {\r\n                this.choose(i)\r\n              }}\r\n            >\r\n              Choose\r\n            </button>\r\n          </td>\r\n        );\r\n        return (\r\n          <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n            {tds}\r\n          </tr>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <div>\r\n          <h2 style={{ 'background': 'gainsboro', 'borderRadius': '5px', 'padding': '5px' }}>Your Choice</h2>\r\n          <h4>\r\n            Q{this.props.numLeftPoints.length}: Choose the Tuple You Favor More\r\n            among the Following Options\r\n          </h4>\r\n          <div className=\"row justify-content-center align-items-center\">\r\n            <div className=\"col-md-8\">\r\n              <table className=\"table table-hover text-center\">\r\n                <thead>\r\n                  <tr>{ths}</tr>\r\n                </thead>\r\n                <tbody>{trs}</tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"col-md-1\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.stopInteraction}\r\n              >\r\n                Stop\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    // new algorithm\r\n    let ths = [<th key=\"Option No.\">Option ID</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>)\r\n    });\r\n    const selectedPoint = vector2Array(this.runner.getIndices())\r\n    console.log(selectedPoint)\r\n    console.log(this.runner.getMrr())\r\n\r\n    const trs = selectedPoint.slice(-this.props.K).map((id, i) => {\r\n      const tds = [<td key=\"Option No.\">{id}</td>];\r\n      console.log(id)\r\n      if (id === -1) return\r\n      this.props.candidates[id].forEach((x, j) => {\r\n        if (this.props.mask[this.props.attributes[j][0]]) {\r\n          tds.push(<td key={j}>{x}</td>);\r\n        }\r\n      });\r\n      return (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.attributes[id]}>\r\n          {tds}\r\n        </tr>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <br />\r\n        <div style={{ 'borderRadius': '5px', 'padding': '5px', 'fontSize': '22px' }}>\r\n          <span style={{ 'color': '#ff8737' }}>{this.props.mode}</span> selects at most k tuples for you\r\n        </div>\r\n        <br />\r\n        <table style={{ 'borderBottom': '1px solid gainsboro' }} className=\"table table-hover text-center\">\r\n          <thead>\r\n            <tr>{ths}</tr>\r\n          </thead>\r\n          <tbody>{trs}</tbody>\r\n        </table>\r\n        <div style={{ 'display': 'flex', 'justifyContent': 'space-between', 'padding': '0 10px', }}>\r\n          <div>\r\n            Output size: {selectedPoint.length}\r\n          </div>\r\n          <div onClick={this.inputDimension} style={{ 'background': '#ff8737', 'color': 'white', 'padding': '5px', 'borderRadius': '5px' }}>\r\n            Input D Dimensions\r\n          </div>\r\n        </div>\r\n        <br />\r\n\r\n        {this.props.mode === 'IncGreedy' ? (\r\n          <div>\r\n            <div style={{ 'margin': 'auto', width: \"30rem\", 'height': '28rem' }}>\r\n              <FlexibleXYPlot onMouseLeave={() => {\r\n                this.setState({ hintValue: null })\r\n              }}>\r\n                <XAxis\r\n                  tickValues={this.state.performanceIndex.map((val, idx) => idx)}\r\n                  tickFormat={value => value.toString()}\r\n                  style={{\r\n                    ticks: { fill: \"black\" }\r\n                  }}\r\n                />\r\n                <YAxis\r\n                  style={{\r\n                    ticks: { fill: \"black\" }\r\n                  }}\r\n                />\r\n                <ChartLabel\r\n                  text=\"Rounds\"\r\n                  includeMargin={false}\r\n                  xPercent={0.82}\r\n                  yPercent={1.06}\r\n                  style={{\r\n                    style: { fill: \"black\" }\r\n                  }}\r\n                />\r\n                <ChartLabel\r\n                  text=\"MRR(maximun regret ratio)\"\r\n                  includeMargin={false}\r\n                  xPercent={-0.01}\r\n                  yPercent={0.05}\r\n                  style={{\r\n                    transform: \"rotate(-90)\",\r\n                    textAnchor: \"end\",\r\n                    style: { fill: \"black\" }\r\n                  }}\r\n                />\r\n                <VerticalBarSeries\r\n                  color=\"#ff8737\"\r\n                  onNearestX={(value, { index }) => {\r\n                    this.setState({ hintValue: '' + index })\r\n                  }}\r\n                  data={this.state.performanceIndex}\r\n                  animation\r\n                />\r\n                {this.state.hintValue && (\r\n                  <Hint value={this.state.hintValue}>\r\n                    <p style={{ 'color': \"black\", 'textAlign': 'left' }}>\r\n                      Runtime: {this.state.performanceIndex[this.state.hintValue].runtime}ms<br />\r\n                      Mrr: {this.state.performanceIndex[this.state.hintValue].mrr.toFixed(4)}\r\n                    </p>\r\n                  </Hint>\r\n                )}\r\n              </FlexibleXYPlot>\r\n            </div>\r\n            <div style={{ 'background': '#ff8737', 'margin': 'auto', 'width': '100px', 'color': 'white', 'borderRadius': '3.25rem', 'padding': '5px' }} onClick={this.next}>Next</div>\r\n\r\n          </div>\r\n\r\n        ) : (\r\n          <div style={{ 'textAlign': 'left', 'padding': '8px', 'borderRadius': '5px', 'background': 'gainsboro' }}>\r\n            {this.props.mode} runtime: {this.state.performanceIndex[0].runtime} ms  <br /> MRR(maximun regret ratio): {this.state.performanceIndex[0].mrr}\r\n          </div>\r\n        )}\r\n        <br />\r\n        {this.global_local_regret ? (\r\n          <div style={{ 'background': '#ff8737', 'color': 'white', 'textAlign': 'left', 'borderRadius': '5px', 'padding': '8px' }}>\r\n\r\n            <div>Your global favorite tuple is:<br />\r\n              <table style={{ 'borderBottom': '1px solid gainsboro' }} className=\"table table-hover text-center\">\r\n                <thead>\r\n                  <tr>{ths}</tr>\r\n                </thead>\r\n                <tbody>{(() => {\r\n                  const tds = [<td key=\"Option No.\">{this.runner.get_globalBestId()}</td>];\r\n                  this.global_local_regret['globalBest'].forEach((x, j) => {\r\n                    if (this.props.mask[this.props.attributes[j][0]]) {\r\n                      tds.push(<td key={j}>{x}</td>);\r\n                    }\r\n                  })\r\n                  return tds\r\n                })()}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div>Your local favorite tuple is:<br />\r\n              <table style={{ 'borderBottom': '1px solid gainsboro' }} className=\"table table-hover text-center\">\r\n                <thead>\r\n                  <tr>{ths}</tr>\r\n                </thead>\r\n                <tbody>{(() => {\r\n                  const tds = [<td key=\"Option No.\">{this.runner.get_localBestId()}</td>];\r\n                  this.global_local_regret['localBest'].forEach((x, j) => {\r\n                    if (this.props.mask[this.props.attributes[j][0]]) {\r\n                      tds.push(<td key={j}>{x}</td>);\r\n                    }\r\n                  })\r\n                  return tds\r\n                })()}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div>Your regret ratio is: {this.global_local_regret['regretRatio']}</div>\r\n\r\n          </div>) : ''}\r\n        <br />\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={() => window.location.reload()}>\r\n          Return to Welcome\r\n        </button>\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode,\r\n  K,\r\n  vertices\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  mode,\r\n  K,\r\n  vertices\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showResult: () => {\r\n    dispatch(setActiveComponent(\"Result\"));\r\n  },\r\n  setLeftPoints: indices => {\r\n    dispatch(setLeftPoints(indices));\r\n  },\r\n  prunePoints: (indices, step) => {\r\n    dispatch(prunePoints(indices, step));\r\n  },\r\n  updateConvexHull: vertices => {\r\n    dispatch(updateConvexHull(vertices));\r\n  },\r\n  setLeftPrefer: maxDist => {\r\n    dispatch(setLeftPrefer(maxDist));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Question);\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  SET_ACTIVE_COMPONENT,\r\n  SET_DATASET,\r\n  SET_CANDIDATES,\r\n  TOGGLE_MASK,\r\n  SET_LEFT_POINTS,\r\n  PRUNE_POINTS,\r\n  SET_MODE,\r\n  SET_K,\r\n  RESTART,\r\n  UPDATE_CONVEX_HULL,\r\n  SET_LEFT_PREFER\r\n} from \"../actions\";\r\nimport { getMaxDist } from \"../utils\";\r\n\r\nconst activeComponent = (state = \"Welcome\", action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_COMPONENT:\r\n      return action.component;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// all points in the dataset\r\nconst points = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.points;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the labels of points\r\nconst labels = (state = null, action) => {\r\n  switch (action.type) {\r\n    // case SET_DATASET:\r\n    //   return action.labels;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the attribute names\r\nconst attributes = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.attributes;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points in the specified ranges.\r\nconst candidates = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_CANDIDATES:\r\n      return action.candidates;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// show/hide attributes (this feature is not exposed in the UI)\r\nconst mask = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      const mask = {};\r\n      action.attributes.forEach(([attr, config]) => {\r\n        mask[attr] = 1;\r\n      });\r\n      return mask;\r\n    case TOGGLE_MASK:\r\n      return { ...state, ...action.mask };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points pruned.\r\n// it is an array of [idx, step no.]\r\nconst prunedPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case PRUNE_POINTS:\r\n      const points = action.indices.map(idx => [idx, action.step]);\r\n      return [...points, ...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of candidate points\r\n// it is an array of indices\r\nconst leftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_POINTS:\r\n      return action.indices;\r\n    case PRUNE_POINTS:\r\n      return state.filter(idx => action.indices.indexOf(idx) === -1);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// history of the number of left points\r\nconst numLeftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS:\r\n      return [action.indices.length];\r\n    case PRUNE_POINTS:\r\n      const prev = state[state.length - 1];\r\n      return [...state, prev - action.indices.length];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst numLeftPrefer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_PREFER:\r\n      // const vertices = action.vertices.map(ver => ver);\r\n      // const maxDist = getMaxDist(vertices);\r\n      return [...state, action.num];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// the algorithm to select a pair of points.\r\nconst mode = (state = \"DMM\", action) => {\r\n  switch (action.type) {\r\n    case SET_MODE:\r\n      return action.mode;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n// the algorithm output K\r\nconst K = (state = 15, action) => {\r\n  switch (action.type) {\r\n    case SET_K:\r\n      return action.K;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n// vertices of the convex hull of the preference space.\r\nconst vertices = (state = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_CONVEX_HULL:\r\n      console.log('update convex vertices', action);\r\n      return action.vertices;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  activeComponent,\r\n  points,\r\n  labels,\r\n  attributes,\r\n  candidates,\r\n  mask,\r\n  prunedPoints,\r\n  leftPoints,\r\n  numLeftPoints,\r\n  numLeftPrefer,\r\n  mode,\r\n  K,\r\n  vertices\r\n});\r\n","import React from \"react\";\r\nimport {\r\n  setActiveComponent,\r\n  setCandidates,\r\n  toggleMask,\r\n  changeMode,\r\n  changeK,\r\n  setDataset\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCandidates, getRanges, getSkyline } from \"../utils\";\r\nimport imgURL from '../assets/imgs/logo-black.png';\r\nimport imgFavorite from '../assets/imgs/favorite.png';\r\n\r\n// the welcome scene containing a brief introduction and a table to obtain the user's input\r\nclass Welcome extends React.Component {\r\n\r\n  upload = () => {\r\n    var target = document.createElement('input');\r\n    target.type = 'file';\r\n    target.accept = \".csv,text/plain\"\r\n    target.click()\r\n    target.onchange = (e) => {\r\n      console.log(e.path[0].files)\r\n      var reader = new FileReader();\r\n      reader.readAsText(e.path[0].files[0]);\r\n      reader.onload = () => {\r\n        const text = reader.result\r\n        // n k\r\n        // attributes.1 ... attributes.k\r\n        // 0.4534 ... 0.345(k)\r\n        var points_attr = text.trim().split(\"\\n\").slice(1)\r\n        // for points_attr, the first line is <numOfPoints> <dimension>\r\n        var points = points_attr.slice(1).map(line => line.trim().split(/\\s+/).map(str => isNaN(parseFloat(str)) ? 0 : parseFloat(str)));\r\n        console.log(points);\r\n        var ranges = getRanges(points)\r\n        console.log(ranges)\r\n        var attributes = points_attr[0].trim().split(/\\s+/).map((item, index) => {\r\n          let rangesItem = ranges[index]\r\n          rangesItem.smallerBetter = false\r\n          return [item, rangesItem]\r\n        })\r\n        console.log(attributes)\r\n        if (points.length < 5000) {\r\n          alert(\"please upload data more then 5000 rows!\");\r\n          return;\r\n        }\r\n        this.props.setDataset(points, '', attributes)\r\n      };\r\n    }\r\n  }\r\n\r\n  handleStart = () => {\r\n    let attNum = Object.values(this.props.mask).filter((i) => i === 1).length;\r\n    if (Object.values(this.props.mask).filter((i) => i === 1).length < 2) {\r\n      return alert('You should select at least two attributes')\r\n    }\r\n\r\n\r\n    const ranges = [];\r\n    const mask = [];\r\n    for (let i = 0; i < this.props.attributes.length; ++i) {\r\n      const [attr, config] = this.props.attributes[i];\r\n      const range = [config.low, config.high];\r\n      if (this.props.mask[attr]) {\r\n        for (let j = 0; j < 2; ++j) {\r\n          const str = this.inputs[attr][j].current.value.trim();\r\n          if (str === \"\") continue;\r\n          else if (isNaN(str)) {\r\n            alert(`${str} in range of ${attr} is not an integer`);\r\n            return;\r\n          } else {\r\n            range[j] = parseFloat(str);\r\n          }\r\n        }\r\n      }\r\n      ranges.push(range);\r\n      mask.push(this.props.mask[attr]);\r\n    }\r\n    let maxPoints;\r\n    const str = this.inputs.maxPoints.current.value.trim();\r\n    console.log('input number', str);\r\n    if (str === \"\") maxPoints = 5000;\r\n    else if (/\\d+/.test(str)) maxPoints = parseInt(str);\r\n    else if (maxPoints > 50000 || maxPoints < 5000) return alert('Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!');\r\n    else {\r\n      alert(`${str} for Maximum items is not an integer`);\r\n      return;\r\n    }\r\n\r\n    if (maxPoints > 50000 || maxPoints < 5000) return alert('The input is out of the range, please input a number between 5000 ~ 50000');\r\n\r\n    if (!['Random', 'Simplex', 'Parti'].includes(this.props.mode)) {\r\n      var K = parseInt(prompt('Please input an integer more than ' + this.props.attributes.length))\r\n      if (!(/(^[1-9]\\d*$)/.test(K) && K >= this.props.attributes.length)) return alert('Illegal number!')\r\n      this.props.changeK(K)\r\n    } else {\r\n      if (attNum < 3) {\r\n        return alert('You should select at least three attributes')\r\n      } else if (attNum > 5) {\r\n        return alert('You should not select more than five attributes')\r\n      }\r\n    }\r\n\r\n    const candidates = selectCandidates(\r\n      this.props.points,\r\n      ranges,\r\n      mask,\r\n      maxPoints\r\n    );\r\n    if (candidates.length === 0) {\r\n      alert(\"No matching Tuples, try larger ranges\");\r\n      return;\r\n    }\r\n    console.log('attr', this.props.attributes);\r\n    let isSelected = this.props.attributes.map(([attr, config]) => {\r\n      return this.props.mask[attr];\r\n    })\r\n    let smallerBetter = this.props.attributes.map(([attr, config]) => {\r\n      return config.smallerBetter ? 1 : 0;\r\n    })\r\n    //console.log('input points--', candidates, isSelected, smallerBetter);\r\n\r\n    //Fconsole.log('input points--', candidates, isSelected, smallerBetter);\r\n    let skyline = getSkyline(candidates, smallerBetter, isSelected)\r\n    if (skyline < 10) {\r\n      console.log('skyline', skyline);\r\n      return alert('Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!')\r\n    }\r\n    if (['graphDP', 'biSearch', 'sweepDP'].includes(this.props.mode)) {\r\n      if (Object.values(this.props.mask).filter((i) => i === 1).length != 2) {\r\n        return alert('You should select only two attributes to perform \"graphDP\" or \"biSearch\" or \"sweepDP\"');\r\n      }\r\n    }\r\n    // console.log('skyline', skyline);\r\n    this.props.startAlgorithm(candidates);\r\n  };\r\n\r\n  handleChange = event => {\r\n    if (['graphDP', 'biSearch', 'sweepDP'].includes(event.target.value)) {\r\n      console.log(this.props.mask)\r\n      if (Object.values(this.props.mask).filter((i) => i === 1).length > 2) {\r\n        alert(event.target.value + ' only supports 2D data!')\r\n        event.target.value = this.props.mode\r\n        return\r\n      }\r\n    }\r\n    console.log(event.target.value)\r\n    this.props.changeMode(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    // Init inputs\r\n    this.inputs = {};\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      this.inputs[attr] = [React.createRef(), React.createRef()];\r\n    });\r\n    this.inputs.maxPoints = React.createRef();\r\n    // Iterate attributes\r\n    const trs = this.props.attributes.map(([attr, config], index) => {\r\n      const disabled = this.props.mask[attr] === 0;\r\n      const { low, high } = config;\r\n      return (\r\n        <tr key={attr}>\r\n          <td\r\n            className=\"align-middle\">\r\n            <span\r\n              onClick={() => {\r\n                console.log('mode', this.props.mode );\r\n                this.props.toggleMask(attr, 1 - this.props.mask[attr])\r\n              }}\r\n              className={`${this.props.mask[attr] ? \"attribute-select\" : null}`}\r\n              style={{ 'cursor': 'pointer', 'textDecoration': this.props.mask[attr] ? '' : 'line-through' }}\r\n            >{attr}</span>\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={low}\r\n              ref={this.inputs[attr][0]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder={high}\r\n              ref={this.inputs[attr][1]}\r\n              disabled={disabled}\r\n            />\r\n          </td>\r\n          <td className=\"align-middle hidden\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={disabled}\r\n              onChange={() =>\r\n                this.props.toggleMask(attr, 1 - this.props.mask[attr])\r\n              }\r\n            />\r\n          </td>\r\n          <td className=\"align-middle\" onClick={() => { this.props.attributes[index][1].smallerBetter = !this.props.attributes[index][1].smallerBetter; this.setState({ attributes: this.props.attributes }) }}>\r\n            {this.props.attributes[index][1].smallerBetter ? <span style={{\r\n              'background': '#ff8737',\r\n              'padding': '5px',\r\n              'borderRadius': '5px',\r\n              'color': 'white'\r\n            }}>Yes</span> : <span>No</span>}\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n    trs.push(\r\n      <tr key=\"other\">\r\n        <td className=\"align-middle font-weight-bold\">Max No. of Tuples</td>\r\n        <td>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder='5000'\r\n            ref={this.inputs.maxPoints}\r\n          />\r\n        </td>\r\n        <td style={{ 'textAlign': 'left' }}>\r\n          {/* <div className=\"col form-inline align-items-center\"> */}\r\n          <label className=\"mr-4 col-form-label font-weight-bold\">Mode</label>\r\n          <div className=\"mr-3 form-check form-check-inline\">\r\n            <div>\r\n              <select onChange={this.handleChange}>\r\n                <option value=\"DMM\">DMM</option>\r\n                <option value=\"cube\">cube</option>\r\n                <option value=\"sphere\">sphere</option>\r\n                <option value=\"Simplex\">Simplex</option>\r\n                <option value=\"Random\">Random</option>\r\n                <option value=\"Random\">Parti</option>\r\n                <option value=\"graphDP\">graphDP</option>\r\n                <option value=\"biSearch\">biSearch</option>\r\n                <option value=\"sweepDP\">sweepDP</option>\r\n                <option value=\"IncGreedy\">IncGreedy</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    );\r\n    return (\r\n      <div className=\"text-center m-auto\" style={{ maxWidth: \"50rem\" }}>\r\n        <img alt='' onClick={() => window.location.reload()} src={imgURL} style={{ 'width': '50px', 'position': 'absolute', 'top': '15px', 'left': '15px', 'cursor': 'pointer' }} />\r\n        <div type=\"button\"\r\n          title=\"Format of Input file\r\n                ------------------------------------&#13;\r\n                The format of the first line is: n d\r\n                n - the number of tuples in the dataset, integer\r\n                d - dimensionality, integer\r\n                The format of the second line is:\r\n                <A1> <A2> ... <Ad>\r\n                Ai - the i-th attribute name, string\r\n                The format of the following n lines is\r\n                <dim 1> <dim 2> ... <dim d>.\r\n                Each line corresponds to a tuple.\"\r\n          className=\"btn btn-primary upload\"\r\n          style={{ position: 'absolute', top: '15px', right: '15px', width: \"8rem\" }}\r\n          onClick={this.upload}\r\n        >\r\n          Upload\r\n        </div>\r\n        <img alt='' src={imgFavorite} style={{ 'width': '400px' }} />\r\n        <br />\r\n        <br />\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"align-middle\">Attribute</th>\r\n              <th>Lower bound</th>\r\n              <th>Upper bound</th>\r\n              <th>Smaller better</th>\r\n              <th className=\"hidden\">Discard</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{trs}</tbody>\r\n        </table>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            style={{ width: \"8rem\" }}\r\n            onClick={this.handleStart}\r\n          >\r\n            Start\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\r\n  attributes,\r\n  mask,\r\n  points,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startAlgorithm: candidates => {\r\n    dispatch(setCandidates(candidates));\r\n    dispatch(setActiveComponent(\"Interaction\"));\r\n  },\r\n  toggleMask: (attr, mask) => dispatch(toggleMask(attr, mask)),\r\n  changeMode: mode => dispatch(changeMode(mode)),\r\n  changeK: K => dispatch(changeK(K)),\r\n  setDataset: (points, labels, attributes) => dispatch(setDataset(points, labels, attributes))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Welcome);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  FlexibleXYPlot,\n  XAxis,\n  YAxis,\n  Hint,\n  VerticalBarSeries,\n  ChartLabel\n} from \"react-vis\";\n\n// a histogram to show the number of tuples left vs the number of questions asked.\nclass Histogram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hintValue: null\n    };\n  }\n\n  _onMouseLeave = () => {\n    this.setState({\n      hintValue: null\n    });\n  };\n\n  _onNearestX = (value, { index }) => {\n    this.setState({\n      hintValue: this.props.data[index]\n    });\n  };\n\n  render() {\n    // console.log(\"data??\", this.props.data, this.props.leftPoints);\n    return (\n      <div className=\"row justify-content-center\" style={{ width: \"25rem\"}}>\n        <h4>No. of Tuples Left vs. No. of Questions Asked</h4>\n        <div style={{ width: \"25rem\", height: \"25rem\" }}>\n          <FlexibleXYPlot onMouseLeave={this._onMouseLeave}>\n            <XAxis\n              tickValues={this.props.data.map((val, idx) => idx)}\n              tickFormat={value => value.toString()}\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <YAxis\n              style={{\n                ticks: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"Question No.\"\n              includeMargin={false}\n              xPercent={0.82}\n              yPercent={1.06}\n              style={{\n                style: { fill: \"black\" }\n              }}\n            />\n            <ChartLabel\n              text=\"No. of Tuples Left\"\n              includeMargin={false}\n              xPercent={-0.01}\n              yPercent={0.05}\n              style={{\n                transform: \"rotate(-90)\",\n                textAnchor: \"end\",\n                style: { fill: \"black\" }\n              }}\n            />\n            <VerticalBarSeries\n              color=\"#ff8737\"\n              onNearestX={this._onNearestX}\n              data={this.props.data}\n              animation\n            />\n            {this.state.hintValue && (\n              <Hint value={this.state.hintValue}>\n                <p style={{ color: \"black\" }}>\n                  Q{this.state.hintValue.x}: {this.state.hintValue.y} Tuples Left\n                </p>\n              </Hint>\n            )}\n          </FlexibleXYPlot>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ numLeftPoints, leftPoints }) => ({\n  data: numLeftPoints.map((num, i) => ({ x: i, y: num })),\n  leftPoints\n});\n\nexport default connect(mapStateToProps)(Histogram);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n    FlexibleXYPlot,\n    XAxis,\n    YAxis,\n    Hint,\n    VerticalBarSeries,\n    ChartLabel\n} from \"react-vis\";\n\n// a histogram to show the number of tuples left vs the number of questions asked.\nclass HistogramPrefer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hintValue: null\n        };\n    }\n\n    _onMouseLeave = () => {\n        this.setState({\n            hintValue: null\n        });\n    };\n\n    _onNearestX = (value, { index }) => {\n        this.setState({\n            hintValue: this.props.data[index]\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"row justify-content-center\" style={{ width: \"25rem\" }}>\n                <h4>Regret ratio bound vs. No. of Questions Asked</h4>\n                <div style={{ width: \"25rem\", height: \"25rem\" }}>\n                    <FlexibleXYPlot onMouseLeave={this._onMouseLeave}>\n                        <XAxis\n                            tickValues={this.props.data.map((val, idx) => idx)}\n                            tickFormat={value => value.toString()}\n                            style={{\n                                ticks: { fill: \"black\" }\n                            }}\n                        />\n                        <YAxis\n                            style={{\n                                ticks: { fill: \"black\" }\n                            }}\n                        />\n                        <ChartLabel\n                            text=\"Question No.\"\n                            includeMargin={false}\n                            xPercent={0.82}\n                            yPercent={1.06}\n                            style={{\n                                style: { fill: \"black\" }\n                            }}\n                        />\n                        <ChartLabel\n                            text=\" Regret ratio bound\"\n                            includeMargin={false}\n                            xPercent={-0.01}\n                            yPercent={0.05}\n                            style={{\n                                transform: \"rotate(-90)\",\n                                textAnchor: \"end\",\n                                style: { fill: \"black\" }\n                            }}\n                        />\n                        <VerticalBarSeries\n                            color=\"#ff8737\"\n                            onNearestX={this._onNearestX}\n                            data={this.props.data}\n                            animation\n                        />\n                        {this.state.hintValue && (\n                            <Hint value={this.state.hintValue}>\n                                <p style={{ color: \"black\" }}>\n                                    Q{this.state.hintValue.x}: {this.state.hintValue.y} Tuples Left\n                                </p>\n                            </Hint>\n                        )}\n                    </FlexibleXYPlot>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({\n    numLeftPrefer\n}) => ({\n    data: numLeftPrefer.map((num, i) => ({ x: i, y: num })),\n});\n\nexport default connect(mapStateToProps)(HistogramPrefer);\n","import * as THREE from \"three\";\nwindow.THREE = THREE;\nrequire(\"three/examples/js/controls/OrbitControls\");\nrequire(\"three/examples/js/QuickHull\");\nrequire(\"three/examples/js/geometries/ConvexGeometry\");\n\nexport default THREE;\n","import React from \"react\";\nimport THREE from \"./three\";\n\nconst SCALE = 100;\nconst FACTOR = 10; // font size = SCALE / FACTOR\n\n// the convex hull of the preference space\nclass ConvexHull extends React.Component {\n  componentDidMount() {\n    const width = this.mount.clientWidth;\n    const height = this.mount.clientHeight;\n    console.log('three vertices', this.props.vertices);\n    this.scene = new THREE.Scene();\n\n    this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n    this.camera.position.set(1.5 * SCALE, 1.5 * SCALE, 0.5 * SCALE);\n    this.camera.up.set(0, 0, 1);\n    this.controls = new THREE.OrbitControls(this.camera, this.mount);\n    this.controls.update();\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setClearColor(0xffffff);\n    this.renderer.setSize(width, height);\n    this.mount.appendChild(this.renderer.domElement);\n    this.addAxes();\n    this.drawGeometry();\n    this.start();\n  }\n\n  drawGeometry = () => {\n    let newVers = this.props.vertices.map(x => x);\n    // if (newVers.length < 4) return;\n    if (newVers.length < 4) {\n      if (newVers.length == 3) {\n        const tmp = newVers.at(0);\n        newVers.push(tmp);\n      } else {\n        return;\n      }\n    }\n    // if (this.props.vertices.length < 4) {\n    //   if (this.props.vertices.length == 3) {\n    //     console.log('333-1', this.props.vertices);\n\n    //     let ver = this.props.vertices.at(0);\n    //     this.props.vertices.push(ver);\n    //     console.log('333-2', this.props.vertices);\n    //   }\n    //   if (this.props.vertices.length == 2) {\n    //     console.log('222-1', this.props.vertices);\n\n    //     let ver = this.props.vertices.at(0);\n    //     this.props.vertices.push(ver);\n    //     this.props.vertices.push(ver);\n    //     console.log('222-2', this.props.vertices);\n    //   } else {\n    //       return;\n    //   }\n    // }\n    // if (this.props.vertices.length < 4) return;\n    const points = newVers.map(vertex => {\n      const scaled_vertex = vertex.map(x => x * SCALE);\n      return new THREE.Vector3(...scaled_vertex);\n    });\n    //console.log(points, 'points to paint');\n    const geometry = new THREE.ConvexGeometry(points);\n    const material = new THREE.MeshBasicMaterial({\n      color: 0x87CEEB,\n      //shading: THREE.FlatShading,\n      polygonOffset: true,\n      polygonOffsetFactor: 1, // positive value pushes polygon further away\n      polygonOffsetUnits: 1,\n      opacity: 0.75,\n      transparent: true\n    });\n    this.mesh = new THREE.Mesh(geometry, material);\n    const geo = new THREE.EdgesGeometry(geometry); // or WireframeGeometry\n    const mat = new THREE.LineBasicMaterial({ color: 0x000000, linewidth: 2 });\n    const wireframe = new THREE.LineSegments(geo, mat);\n    this.mesh.add(wireframe);\n    this.scene.add(this.mesh);\n  };\n\n  addAxes = () => {\n    const axes = new THREE.AxesHelper(1.5 * SCALE);\n    this.scene.add(axes);\n    const typeface = require(\"three/examples/fonts/helvetiker_regular.typeface.json\");\n    const font = new THREE.Font(typeface);\n\n    const numConfig = [\n      // color, position, rotation\n      [\n        0xff0000,\n        [SCALE + SCALE / (FACTOR * 2), 0, 0],\n        [Math.PI / 2, Math.PI, 0]\n      ],\n      [\n        0x00ff00,\n        [0, SCALE - SCALE / (FACTOR * 2), 0],\n        [Math.PI / 2, Math.PI / 2, 0]\n      ],\n      [\n        0x0000ff,\n        [\n          SCALE / (FACTOR * Math.sqrt(2)),\n          -SCALE / (FACTOR * Math.sqrt(2)),\n          SCALE\n        ],\n        [Math.PI / 2, (Math.PI * 3) / 4, 0]\n      ]\n    ];\n\n    numConfig.forEach(([color, position, rotation]) => {\n      const shape = font.generateShapes(\"1\", SCALE / FACTOR);\n      const geometry = new THREE.ShapeBufferGeometry(shape);\n      const mesh = new THREE.Mesh(\n        geometry,\n        new THREE.MeshBasicMaterial({\n          color: color,\n          side: THREE.DoubleSide\n        })\n      );\n      mesh.position.set(...position);\n      mesh.rotation.set(...rotation);\n      this.scene.add(mesh);\n    });\n    window.lines = [];\n    const lineConfig = [\n      [0xff0000, [SCALE, 0, 0], [0, 0, 0]],\n      [0x00ff00, [0, SCALE, 0], [0, 0, -Math.PI / 2]],\n      [0x0000ff, [0, 0, SCALE], [0, 0, -Math.PI / 2]]\n    ];\n    lineConfig.forEach(([color, position, rotation]) => {\n      const material = new THREE.LineBasicMaterial({\n        color\n      });\n      const geometry = new THREE.Geometry();\n      geometry.vertices.push(\n        new THREE.Vector3(0, 0, 0),\n        new THREE.Vector3(0, SCALE / (2 * FACTOR))\n      );\n      const line = new THREE.Line(geometry, material);\n      line.position.set(...position);\n      line.rotation.set(...rotation);\n      this.scene.add(line);\n      window.lines.push(line);\n    });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      // console.log('11test')\n      if (this.mesh) {\n        this.scene.remove(this.mesh);\n        this.mesh.geometry.dispose();\n        this.mesh.material.dispose();\n      }\n      this.drawGeometry();\n    }\n  }\n\n  componentWillUnmount() {\n    this.stop();\n    this.mount.removeChild(this.renderer.domElement);\n  }\n\n  start = () => {\n    if (!this.frameId) {\n      this.frameId = window.requestAnimationFrame(this.animate);\n    }\n  };\n\n  stop = () => {\n    window.cancelAnimationFrame(this.frameId);\n  };\n\n  animate = () => {\n    this.controls.update();\n    this.renderer.render(this.scene, this.camera);\n    this.frameId = window.requestAnimationFrame(this.animate);\n  };\n\n  render() {\n    return (\n      <div className=\"col\"\n        style={{ width: \"25rem\", height: \"25rem\" }}\n        ref={mount => {\n          this.mount = mount;\n        }}\n      />\n    );\n  }\n}\n\nexport default ConvexHull;\n","import React from \"react\";\nimport Slider from \"react-slick\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleUp, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Line({ color }) {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\"\n      }}\n    >\n      <div style={{ width: \"100%\", height: \"2px\", backgroundColor: color }} />\n    </div>\n  );\n}\n\nfunction SlideItem({ text }) {\n  return (\n    <div\n      style={{\n        height: \"2rem\",\n        alignItems: \"center\",\n        display: \"flex\",\n        justifyContent: \"center\"\n      }}\n    >\n      {text}\n    </div>\n  );\n}\n\n// show/change the selected attributes for displaying the convex hull\nclass Legend extends React.Component {\n  constructor(props) {\n    super(props);\n    this.attributes = [];\n    //console.log('legend', this.props.mask, this.props.attributes);\n    this.props.attributes.forEach(([attr]) => {\n      if (this.props.mask[attr]) this.attributes.push(attr);\n    });\n  }\n  render() {\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 3,\n      slidesToScroll: 1,\n      vertical: true,\n      verticalSwiping: true,\n      arrows: false,\n      swipeToSlide: true,\n      afterChange: this.props.changeStartingIndex\n    };\n    return (\n      <div\n        title=\"Click the arrows to change the selected attributes for displaying the convex hull.\"\n        style={{\n          width: \"12rem\"\n        }}\n      >\n        <div\n          style={{\n            alignItems: \"center\",\n            width: \"4rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <Line color=\"#ff0000\" />\n          <Line color=\"#00ff00\" />\n          <Line color=\"#0000ff\" />\n        </div>\n        <div\n          style={{\n            width: \"8rem\",\n            display: \"inline-block\",\n            verticalAlign: \"middle\"\n          }}\n        >\n          <div\n            onClick={() => this.slider.slickPrev()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleUp} />\n          </div>\n          <Slider {...settings} ref={self => (this.slider = self)}>\n            {this.attributes.map((attr, key) => (<SlideItem key={key} text={attr}/>))}\n          </Slider>\n          <div\n            onClick={() => this.slider.slickNext()}\n            style={{ cursor: \"pointer\" }}\n          >\n            <FontAwesomeIcon icon={faAngleDown} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ mask, attributes }) => ({\n  mask,\n  attributes\n});\n\nexport default connect(mapStateToProps)(Legend);\n","import React from \"react\";\nimport THREE from \"./three\";\nimport { connect } from \"react-redux\";\n\nconst SCALE = 100;\nconst FACTOR = 10; // font size = SCALE / FACTOR\n\n// the convex hull of the preference space\nclass PointsHull extends React.Component {\n    componentDidMount() {\n        const width = this.mount.clientWidth;\n        const height = this.mount.clientHeight;\n        this.ballIcon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4wEJAy0SzbkwSAAAA1lJREFUWMPFlktPXVUUx39rn315iAgiTWREooEEB0pMvRqv6cjXSL02oRPS0IGPST+BH8APwEximNTERBAdadVRURLvwJA2OIB0wKghFLXlcR/n7P13cO+VG0pRC1x+yUrO2a//2nuts842HsLFn/462DRkZgUgD4wDw4A1+gSsA8tASdIisNE6ef71/kN17LDG93/8c3+A2SgwARSBMaCboykDK8ACMCdptdnx9RtPHu1A8Yc/WoV7gSngKjDCo7EGTAOzknaajQtvDjzowHvXt8jM8PXGEcw+bezaPaJ4kwDMIX0iuB2AROKbt54CwDdHaf/lBcGMSS8dU7hJAlxSPWc+SuCmDobg3e/vgll95/AFcFLiBykBk4I1JL59exB757tNzAygF5gFLp6SeJN54AqwLQnnzBAgmBIUG8+nacWGFs4MHySAUerZftyE+y+4htb1AKsOCUkTSCNItMlGGpp4SUM0jr7NFAWfe0GBeoVrN2NAwUvK8+/l9TToBvJe0vgZiDcZ90jDZ+jAsNdD/ohtwrx0BvnfgleMws7oECR5xbCOS0bPxIEY1p0UlyWddv1/0CSkuOyVpSVyrmy4ttYCKZbJ0pKPteqiOb9CYufb6kAIK6pVF731ndvQ3v0FnDvfvi9SKGQL1nduw8V7m6hWmVOWrbUt/lm2plplLt7bxGVbd7Ce/tWYVqcVQqgnxylayEJMq9PW07+abd3BJ32DhPt3IWSzmCuQ67xkp1QXJEFa/SpWdmeVVkn6ButBvzD7G2Aoxmets+ua5TpfwVz98nASmIEiSmtLqpUvm7nbIG5ceXE/6y5c+x1lNRSy5y3XNWO5zjzuhG5oMaK0uqS08rEl/pb5Dm5MPge03AFV2cU9/QyYuxkru5OxujevLI3HjnmWhljd+zJWdi9j7pYbGEKV3f3DaXX0tZkSJB5iIGa1Xst1TeE7rprPjeCS/7nrgLJ0jaw2rVpl1uU6dnAJhIyfP8gf7kCTwkwJJFz344S97VF8boLEF80lY7ikux6ag1MFMUIMZcWwQsgWyNK55LHe1VjeATN+aRE+0gGAVz/7tb6gc7juJ8h2t4bM5Qq4JG/OjWM2jLn6fEUhrSvGZWIoKaaLvmdgI5a3/1lj6cOXD9X5G6RjiArvrkCeAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAxLTA5VDAzOjQ1OjE4KzA4OjAwD0AhlwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMS0wOVQwMzo0NToxOCswODowMH4dmSsAAABDdEVYdHNvZnR3YXJlAC91c3IvbG9jYWwvaW1hZ2VtYWdpY2svc2hhcmUvZG9jL0ltYWdlTWFnaWNrLTcvL2luZGV4Lmh0bWy9tXkKAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAA1MTKPjVOBAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADUxMhx8A9wAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0Njk3NjcxOH7TBZQAAAASdEVYdFRodW1iOjpTaXplADEwMzc4QhMA4VoAAABidEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3QvbmV3c2l0ZS93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vZmlsZXMvMTE4LzExODU3NTcucG5nEqSH3wAAAABJRU5ErkJggg=='\n\n        this.scene = new THREE.Scene();\n\n        this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n        this.camera.position.set(1.5 * SCALE, 1.5 * SCALE, 0.5 * SCALE);\n        this.camera.up.set(0, 0, 1);\n        this.controls = new THREE.OrbitControls(this.camera, this.mount);\n        this.controls.update();\n\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.renderer.setClearColor(0xffffff);\n        this.renderer.setSize(width, height);\n        this.mount.appendChild(this.renderer.domElement);\n        this.addAxes();\n        this.drawGeometry();\n        this.start();\n    }\n\n    drawGeometry = () => {\n        // console.log('test1', this.props.vertices);\n        let newVers = this.props.vertices.map(x => x);\n        // if (newVers.length < 4) return;\n        if (newVers.length < 4) {\n            if (newVers.length == 3) {\n                const tmp = newVers.at(0);\n                newVers.push(tmp);\n            } else {\n                return;\n            }\n        }\n\n        const points = newVers.map(vertex => {\n            const scaled_vertex = vertex.map(x => x * SCALE);\n            return new THREE.Vector3(...scaled_vertex);\n        });\n        // console.log(points, 'points to paint');\n        // points.push(new THREE.Vector3(1, 1, 1));\n        const geometry = new THREE.Geometry();\n        // const vertices = [];\n        // vertices.push(1, 1, 1);\n        // vertices.push(2,3,4);\n        // vertices.push(100,100,100);\n        //console.log(points, 'points to paint');\n        points.map((p) => {\n            geometry.vertices.push(p);\n        })\n        // geometry.vertices.push(points);\n        // geometry.vertices.push(new THREE.Vector3(10, 10, 10))\n        let texture = new THREE.TextureLoader().load(this.ballIcon)\n\n        // const geometry1 = new THREE.BufferGeometry();\n\n        // geometry1.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3))\n        const material = new THREE.PointsMaterial({ color: 0xff0000, size: 5,  sizeAttenuation: false, map: texture, alphaTest: 0.5, transparent: true });\n        this.field = new THREE.Points(geometry, material);\n        this.scene.add(this.field);\n    };\n\n    addAxes = () => {\n        const axes = new THREE.AxesHelper(1.5 * SCALE);\n        this.scene.add(axes);\n        const typeface = require(\"three/examples/fonts/helvetiker_regular.typeface.json\");\n        const font = new THREE.Font(typeface);\n\n        const numConfig = [\n            // color, position, rotation\n            [\n                0xff0000,\n                [SCALE + SCALE / (FACTOR * 2), 0, 0],\n                [Math.PI / 2, Math.PI, 0]\n            ],\n            [\n                0x00ff00,\n                [0, SCALE - SCALE / (FACTOR * 2), 0],\n                [Math.PI / 2, Math.PI / 2, 0]\n            ],\n            [\n                0x0000ff,\n                [\n                    SCALE / (FACTOR * Math.sqrt(2)),\n                    -SCALE / (FACTOR * Math.sqrt(2)),\n                    SCALE\n                ],\n                [Math.PI / 2, (Math.PI * 3) / 4, 0]\n            ]\n        ];\n\n        numConfig.forEach(([color, position, rotation]) => {\n            const shape = font.generateShapes(\"1\", SCALE / FACTOR);\n            const geometry = new THREE.ShapeBufferGeometry(shape);\n            const mesh = new THREE.Mesh(\n                geometry,\n                new THREE.MeshBasicMaterial({\n                    color: color,\n                    side: THREE.DoubleSide\n                })\n            );\n            mesh.position.set(...position);\n            mesh.rotation.set(...rotation);\n            this.scene.add(mesh);\n        });\n        window.lines = [];\n        const lineConfig = [\n            [0xff0000, [SCALE, 0, 0], [0, 0, 0]],\n            [0x00ff00, [0, SCALE, 0], [0, 0, -Math.PI / 2]],\n            [0x0000ff, [0, 0, SCALE], [0, 0, -Math.PI / 2]]\n        ];\n        lineConfig.forEach(([color, position, rotation]) => {\n            const material = new THREE.LineBasicMaterial({\n                color\n            });\n            const geometry = new THREE.Geometry();\n            geometry.vertices.push(\n                new THREE.Vector3(0, 0, 0),\n                new THREE.Vector3(0, SCALE / (2 * FACTOR))\n            );\n            const line = new THREE.Line(geometry, material);\n            line.position.set(...position);\n            line.rotation.set(...rotation);\n            this.scene.add(line);\n            window.lines.push(line);\n        });\n    };\n\n    componentDidUpdate(prevProps) {\n        // console.log('test33', this.props.vertices, prevProps);\n        if (this.props.vertices !== prevProps.vertices) {\n            // console.log('22test');\n            if (this.field) {\n                this.scene.remove(this.field);\n            }\n            this.drawGeometry();\n        }\n    }\n\n    componentWillUnmount() {\n        this.stop();\n        this.mount.removeChild(this.renderer.domElement);\n    }\n\n    start = () => {\n        if (!this.frameId) {\n            this.frameId = window.requestAnimationFrame(this.animate);\n        }\n    };\n\n    stop = () => {\n        window.cancelAnimationFrame(this.frameId);\n    };\n\n    animate = () => {\n        this.controls.update();\n        this.renderer.render(this.scene, this.camera);\n        this.frameId = window.requestAnimationFrame(this.animate);\n    };\n\n    render() {\n        return (\n            <div className=\"col\"\n                style={{ height: \"25rem\", width: '25rem' }}\n                ref={mount => {\n                    this.mount = mount;\n                }}\n            />\n        );\n    }\n}\n\nexport default PointsHull;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getMaxDist } from \"../utils\";\nimport ConvexHull from \"./ConvexHull\";\nimport HistogramPrefer from \"./HistogramPrefer\";\nimport Legend from \"./Legend\";\nimport PointsHull from \"./PointsHull\";\nimport {\n  setLeftPrefer\n} from \"../actions\";\n// to visualize the preference space.\nclass PreferenceSpace extends React.Component {\n  constructor(props) {\n    super(props);\n    const leftPoints = this.props.leftPoints.map(idx => {\n      return this.props.candidates[idx].map((x, idx) => (\n        (x - this.props.attributes[idx][1].low) / (this.props.attributes[idx][1].high - this.props.attributes[idx][1].low)\n      ))\n    })\n    this.state = {\n      index: 0,\n      convexHullVertices: props.vertices.map(vert => vert.slice(0, 3)),\n      pointsHullVertices: leftPoints.map(vert => vert.slice(0, 3))\n    };\n  }\n\n  updateContextHullVertices = index => {\n    const convexHullVertices = this.props.vertices.map(vertext => {\n      const vert = [];\n      for (let i = 0; i < 3; ++i) {\n        vert.push(vertext[(i + index) % 4]);\n      }\n      return vert;\n    });\n    this.setState({ convexHullVertices });\n  };\n\n  updatePointsHullVertices = index => {\n    const leftPoints = this.props.leftPoints.map(idx => {\n      return this.props.candidates[idx].map((x, idx) => (\n        (x - this.props.attributes[idx][1].low) / (this.props.attributes[idx][1].high - this.props.attributes[idx][1].low)\n      ))\n    })\n    const pointsHullVertices = leftPoints.map(vertext => {\n      const vert = [];\n      for (let i = 0; i < 3; ++i) {\n        vert.push(vertext[(i + index) % 4]);\n      }\n      return vert;\n    });\n    this.setState({ pointsHullVertices });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.vertices !== prevProps.vertices) {\n      this.updateContextHullVertices(this.state.index);\n    }\n    if (this.props.leftPoints !== prevProps.leftPoints) {\n      this.updatePointsHullVertices(this.state.index);\n    }\n    // console.log('set maxDist');\n    // const maxDist = getMaxDist(this.props.vertices);\n    // this.props.setLeftPrefer(maxDist);\n  }\n\n  changeStartingIndex = index => {\n    this.setState({ index });\n    // explicitly pass index to this.updateContextHullVertices\n    // because this.state.index is not updated immediately,\n    // i.e., this.state.index has still the old value at this line.\n    this.updateContextHullVertices(index);\n    this.updatePointsHullVertices(index);\n  };\n\n  render() {\n    console.log('convertexs', this.props.vertices);\n    // console.log('verticesHull', this.state.convexHullVertices);\n    // console.log('leftverticeHull', this.state.pointsHullVertices);\n    return (\n      <div classname=\"row justify-content-center\">\n        <h4>Preference Space and Data Space</h4>\n\n        <div style={{ display: \"flex\" }}>\n          <ConvexHull vertices={this.state.convexHullVertices} />\n\n          <div style={{ top: \"2rem\", left: \"20rem\" }}>\n            <Legend changeStartingIndex={this.changeStartingIndex} />\n          </div>\n          <PointsHull vertices={this.state.pointsHullVertices} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  vertices,\n  leftPoints,\n  attributes,\n  candidates\n}) => ({\n  vertices,\n  leftPoints,\n  attributes,\n  candidates\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setLeftPrefer: maxDist => {\n    dispatch(setLeftPrefer(maxDist));\n  },\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PreferenceSpace);\n","import React from \"react\";\nimport Histogram from \"./Histogram\";\nimport HistogramPrefer from \"./HistogramPrefer\";\nimport PreferenceSpace from \"./PreferenceSpace\";\n\nfunction Visuals() {\n  return (\n    <div>\n      <h2 style={{ 'background': 'gainsboro', 'borderRadius': '5px', 'padding': '5px' }}>Visuals</h2>\n      <div className=\"row justify-content-center\">\n        <div className=\"\"\n          style={{ display: 'flex', justifyContent: 'sapce-evenly' }}>\n          <Histogram />\n          <div style={{ width: '100px' }}></div>\n          <HistogramPrefer />\n        </div>\n        <div className=\"\">\n          <PreferenceSpace />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Visuals;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport PointsHull from \"./PointsHull\";\r\n\r\n// statistics including the number of cars pruned/left.\r\nclass Stats extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let ths = [<th key=\"Step No.\">Step</th>];\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}>{attr}</th>);\r\n    });\r\n    const prunedTrs = this.props.prunedPoints.map(([idx, step], i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {[<td>{step}</td>].concat(this.props.candidates[idx].map((x, j) => {\r\n          if (this.props.mask[this.props.attributes[j][0]]) {\r\n            return <td key={j}>{x}</td>\r\n          }\r\n        }\r\n        ))}\r\n      </tr>\r\n    ));\r\n    const leftTrs = this.props.leftPoints.map((idx, i) => (\r\n      <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}>\r\n        {this.props.candidates[idx].map((x, j) => {\r\n          if (this.props.mask[this.props.attributes[j][0]]) {\r\n            return <td key={j}>{x}</td>\r\n          }\r\n        })}\r\n      </tr>\r\n    ));\r\n    const leftPoints = this.props.leftPoints.map(idx => {\r\n      return this.props.candidates[idx].map((x, idx) => (\r\n        (x - this.props.attributes[idx][1].low) / (this.props.attributes[idx][1].high - this.props.attributes[idx][1].low)\r\n      ))\r\n    })\r\n    // console.log('pointsleft', leftPoints, this.props.attributes);\r\n    return (\r\n      <div>\r\n        <h2 style={{ 'background': 'gainsboro', 'borderRadius': '5px', 'padding': '5px' }}>Statistics</h2>\r\n        <div className=\"\" style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\" }}>\r\n          <div className=\"\">\r\n            <h4>The No. of Tuples Pruned: {this.props.prunedPoints.length}</h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": prunedTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"37rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{prunedTrs}</tbody>\r\n            </table>\r\n          </div>\r\n          <div style={{ background: 'gainsboro', height: '20px', margin: '10px' }}></div>\r\n          <div className=\"\">\r\n            <h4>\r\n              The No. of Tuples Left in the Database:{\" \"}\r\n              {this.props.leftPoints.length}\r\n            </h4>\r\n            <table\r\n              className={classNames(\"table\", \"table-hover\", {\r\n                \"table-fixed\": leftTrs.length > 7\r\n              })}\r\n              style={{\r\n                minWidth: \"30rem\"\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr>{ths.slice(1)}</tr>\r\n              </thead>\r\n              <tbody>{leftTrs}</tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"row\"> */}\r\n        {/* <PointsHull vertices={leftPoints.map(vert => vert.slice(0, 3))} /> */}\r\n        {/* </div> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToPropsStats = ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  prunedPoints,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n});\r\n\r\nexport default connect(mapStateToPropsStats)(Stats);\r\n","import React from \"react\";\nimport Question from \"./Question\";\nimport Visuals from \"./Visuals\";\nimport Stats from \"./Stats\";\nimport { connect } from \"react-redux\";\nimport imgURL from '../assets/imgs/logo-black.png';\nfunction Interaction({ mode }) {\n  if (['Random', 'Simplex', 'Parti'].includes(mode)) {\n    return (\n      <div style={{ display: \"flex\", flexDirection: 'row', justifyContent: \"space-evenly\"}}>\n        <div>\n        <Question />\n        <Visuals />\n        </div>\n        <div style={{ margin: '20px'}}></div>\n        <Stats />\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <img alt='' onClick={() => window.location.reload()} src={imgURL} style={{ 'width': '50px', 'position': 'absolute', 'top': '15px', 'left': '15px', 'cursor': 'pointer' }} />\n        <Question />\n      </div>\n    )\n  }\n}\nconst mapStateToProps = ({ mode }) => ({\n  mode\n});\nexport default connect(mapStateToProps)(Interaction);\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport Histogram from \"./Histogram\";\r\n\r\n// show the number of questions asked and the favourite car/remaining cars.\r\nfunction Result({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  restart\r\n}) {\r\n  let ths = [];\r\n  attributes.forEach(([attr, config]) => {\r\n    if (mask[attr]) {\r\n      const th = <th key={attr}>{attr}</th>;\r\n      ths.push(th);\r\n    }\r\n  });\r\n  const trs = leftPoints.map((idx, i) => (\r\n    <tr key={i} data-toggle=\"tooltip\" title={labels[idx]}>\r\n      {candidates[idx].map((x, j) => {\r\n        if (mask[attributes[j][0]]) {\r\n          return <td key={j}>{x}</td>\r\n        }\r\n      })}\r\n    </tr>\r\n  ));\r\n  return (\r\n    <div className=\"justify-content-center\">\r\n      <h4>The Total No. of Questions Asked is: {numLeftPoints.length - 1}.</h4>\r\n      <h4>\r\n        {leftPoints.length === 1\r\n          ? \"Your Favourite Tuple is:\"\r\n          : `${leftPoints.length} Tuples Left in the Database:`}\r\n      </h4>\r\n      <table\r\n        className={classNames(\"table\", \"table-hover\", {\r\n          \"table-fixed\": trs.length > 7\r\n        })}\r\n        style={{\r\n          maxWidth: \"40rem\",\r\n          margin: \"auto\"\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>{ths}</tr>\r\n        </thead>\r\n        <tbody>{trs}</tbody>\r\n      </table>\r\n      <div className=\"d-flex justify-content-center my-3\">\r\n        <Histogram />\r\n      </div>\r\n      <div>\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={restart}>\r\n          Return to Welcome\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  restart: () => {\r\n    dispatch(setActiveComponent(\"Welcome\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Interaction from \"./Interaction\";\r\nimport Result from \"./Result\";\r\nimport { connect } from \"react-redux\";\r\n// import imgURL from '../assets/imgs/logo-black.png';\r\n// import imgFavorite from '../assets/imgs/favorite.png';\r\n// import { getRanges } from \"../utils\";\r\n\r\n\r\nfunction App({ activeComponent }) {\r\n  // var upload = () => {\r\n  //   var target = document.createElement('input');\r\n  //   target.type = 'file';\r\n  //   target.accept = \".csv,text/plain\"\r\n  //   target.click()\r\n  //   target.onchange = (e) => {\r\n  //     console.log(e.path[0].files)\r\n  //     var reader = new FileReader();\r\n  //     reader.readAsText(e.path[0].files[0]);\r\n  //     reader.onload = () => {\r\n  //       const text = reader.result\r\n  //       // n k\r\n  //       // attributes.1 ... attributes.k\r\n  //       // 0.4534 ... 0.345(k)\r\n  //       var points_attr = text.trim().split(\"\\n\").slice(1)\r\n  //       // the first line is <numOfPoints> <dimension>\r\n  //       var points = points_attr.slice(1).map(line => line.trim().split(/\\s+/).map(str => parseFloat(str)));\r\n  //       var ranges = getRanges(points)\r\n  //       var attributes = points_attr[0].trim().split(/\\s+/).map((item, index) => {\r\n  //         let rangesItem = ranges[index]\r\n  //         rangesItem.smallerBetter = false\r\n  //         return [item, rangesItem]\r\n  //       })\r\n  //       console.log(attributes)\r\n  //       this.props.setDataset(points, '', attributes)\r\n  //     };\r\n  //   }\r\n  // }\r\n  switch (activeComponent) {\r\n  //   case \"Home\":\r\n  //     return <div>\r\n  //       <img alt='' onClick={() => window.location.reload()} src={imgURL} style={{ 'width': '50px', 'position': 'absolute', 'top': '15px', 'left': '15px', 'cursor': 'pointer' }} />\r\n  //       <img alt='' src={imgFavorite} style={{ 'width': '400px' }} />\r\n  //       <div>\r\n  //         <div type=\"button\"\r\n  //           className=\"btn btn-primary\"\r\n  //           style={{ width: \"8rem\" }}\r\n  //           onClick={upload}\r\n  //         >\r\n  //           Upload\r\n  //         </div>\r\n  //         <div style={{'width': '100px','display':'inline-block'}}></div>\r\n  //         <div type=\"button\"\r\n  //           className=\"btn btn-primary\"\r\n  //           style={{ width: \"8rem\" }}\r\n  //           onClick={()=>activeComponent= 'Welcome'}\r\n\r\n  //         >\r\n  //           Sample\r\n  //         </div>\r\n  //       </div>\r\n\r\n  //     </div>\r\n    case \"Welcome\":\r\n      return <Welcome />;\r\n    case \"Interaction\":\r\n      return <Interaction />;\r\n    case \"Result\":\r\n      return <Result />;\r\n    default:\r\n      return <div />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeComponent }) => ({\r\n  activeComponent\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport { loadDataset } from \"./utils\";\r\n\r\nwindow.Module = {\r\n  onRuntimeInitialized: async function() {\r\n    const [points, labels] = await loadDataset(\r\n      \"./datasets/cars.txt\",\r\n      \"./datasets/labelsOfCars.txt\"\r\n    );\r\n    const attributes = [\r\n      [\"Price (USD)\", { low: 1000, high: 50000, smallerBetter: true }],\r\n      [\"Year\", { low: 2001, high: 2017, smallerBetter: false }],\r\n      [\"Power (HP)\", { low: 50, high: 400, smallerBetter: false }],\r\n      [\"Used KM\", { low: 10000, high: 150000, smallerBetter: true }]\r\n    ];\r\n    const mask = {};\r\n    attributes.forEach(([attr, config],index) => {\r\n      mask[attr] = 1;\r\n    });\r\n    console.log(mask)\r\n\r\n    const store = createStore(\r\n      rootReducer,\r\n      { points, labels, attributes, mask }\r\n      // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n    render(\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\n\r\nconst script = document.createElement(\"script\");\r\nscript.src = \"web.js\";\r\nscript.async = true;\r\ndocument.body.appendChild(script);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo-black.4a289cfe.png\";","module.exports = __webpack_public_path__ + \"static/media/favorite.39847071.png\";"],"sourceRoot":""}