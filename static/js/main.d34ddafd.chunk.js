(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),l=n(2),i=n(27),o=n(17),s=n(10),c=n(61),u=n(28),p=function(e){return{type:"SET_ACTIVE_COMPONENT",component:e}},m=function(e){return{type:"SET_LEFT_PREFER",num:e}};function d(e){return e.trim().split("\n").slice(1).map(function(e){return e.trim().split(/\s+/).map(function(e){return parseFloat(e)})})}function h(e){return e.trim().split("\n")}var f,b,v,g=function(e){var t=e[0].map(function(e){return{low:e,high:e}});return e.slice(1).forEach(function(e){e.forEach(function(e,n){t[n].low=Math.min(t[n].low,e),t[n].high=Math.max(t[n].high,e)})}),t},E=function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a,l,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.t0=d,e.next=6,a.text();case 6:if(e.t1=e.sent,l=(0,e.t0)(e.t1),void 0!==n){e.next=10;break}return e.abrupt("return",l);case 10:return e.next=12,fetch(n);case 12:return a=e.sent,e.t2=h,e.next=16,a.text();case 16:return e.t3=e.sent,i=(0,e.t2)(e.t3),e.abrupt("return",[l,i]);case 19:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=function(e,t,n,a){for(var r,l,i,o=[],s=0;s<e.length&&!(o.length>=a);++s){for(var c=e[s],u=!0,p=0;p<c.length;++p)if(n[p]&&(r=c[p],l=t[p][0],i=t[p][1],!(l<=r&&r<=i))){u=!1;break}u&&o.push(c)}return o},w=function(e){var t=new window.Module.VecVecDouble;return e.forEach(function(e){var n=new window.Module.VectorDouble;e.forEach(function(e){return n.push_back(e)}),t.push_back(n),n.delete()}),t},A=function(e){for(var t=[],n=0;n<e.size();++n){for(var a=e.get(n),r=[],l=0;l<a.size();++l)r.push(a.get(l));t.push(r)}return t},x=function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t},k=function(e){var t=new window.Module.VectorDouble;return e.forEach(function(e){return t.push_back(e)}),t},O=function(e,t){for(var n=[],a=0,r=0;a<e.size()||r<t.size();)r>=t.size()||e.get(a)<t.get(r)?(n.push(e.get(a)),++a):(++a,++r);return n},j=function(e,t,n,a){var r;for(r=0;r<e.length;r++)if(1==a.at(r))if(1==n[r]){if(e[r]>t[r])return 0}else if(e[r]<t[r])return 0;return 1},P=function(e,t,n){var a,r,l,i,o=0;console.log(t,n);var s=new Array(e.length);for(a=0;a<e.length;a++){l=0;var c=e.at(a).slice();for(r=0;r<o&&!l;++r)j(e[s[r]],c,t,n)&&(l=1);if(!l){for(i=o,o=0,r=0;r<i;r++)j(c,e[s[r]],t,n)||(s[o++]=s[r]);s[o++]=a}}return o},S=Object(o.b)({activeComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Welcome",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_COMPONENT":return t.component;default:return e}},points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.points;default:return e}},labels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(arguments.length>1?arguments[1]:void 0).type,e},attributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.attributes;default:return e}},candidates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CANDIDATES":return t.candidates;default:return e}},mask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":var n={};return t.attributes.forEach(function(e){var t=Object(l.a)(e,2),a=t[0];t[1],n[a]=1}),n;case"TOGGLE_MASK":return Object(c.a)({},e,t.mask);default:return e}},prunedPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"PRUNE_POINTS":var n=t.indices.map(function(e){return[e,t.step]});return[].concat(Object(s.a)(n),Object(s.a)(e));default:return e}},leftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"SET_LEFT_POINTS":return t.indices;case"PRUNE_POINTS":return e.filter(function(e){return-1===t.indices.indexOf(e)});default:return e}},numLeftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LEFT_POINTS":return[t.indices.length];case"PRUNE_POINTS":var n=e[e.length-1];return[].concat(Object(s.a)(e),[n-t.indices.length]);default:return e}},numLeftPrefer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"SET_LEFT_PREFER":return[].concat(Object(s.a)(e),[t.num]);default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DMM",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return t.mode;default:return e}},K:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_K":return t.K;default:return e}},vertices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CONVEX_HULL":return console.log("update convex vertices",t),t.vertices;default:return e}}}),M=n(1),N=n.n(M),T=n(26),I=n(4),C=n(6),R=n(7),V=n(5),D=n(8),L=n(9),B=n(30),_=n.n(B),F=n(63),W=n.n(F),G=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).upload=function(){var e=document.createElement("input");e.type="file",e.accept=".csv,text/plain",e.click(),e.onchange=function(e){console.log(e.path[0].files);var t=new FileReader;t.readAsText(e.path[0].files[0]),t.onload=function(){var e=t.result.trim().split("\n").slice(1),a=e.slice(1).map(function(e){return e.trim().split(/\s+/).map(function(e){return isNaN(parseFloat(e))?0:parseFloat(e)})});console.log(a);var r=g(a);console.log(r);var l=e[0].trim().split(/\s+/).map(function(e,t){var n=r[t];return n.smallerBetter=!1,[e,n]});console.log(l),a.length<5e3?alert("please upload data more then 5000 rows!"):n.props.setDataset(a,"",l)}}},n.handleStart=function(){var e=Object.values(n.props.mask).filter(function(e){return 1===e}).length;if(Object.values(n.props.mask).filter(function(e){return 1===e}).length<2)return alert("You should select at least two attributes");for(var t,a=[],r=[],i=0;i<n.props.attributes.length;++i){var o=Object(l.a)(n.props.attributes[i],2),s=o[0],c=o[1],u=[c.low,c.high];if(n.props.mask[s])for(var p=0;p<2;++p){var m=n.inputs[s][p].current.value.trim();if(""!==m){if(isNaN(m))return void alert("".concat(m," in range of ").concat(s," is not an integer"));u[p]=parseFloat(m)}}a.push(u),r.push(n.props.mask[s])}var d=n.inputs.maxPoints.current.value.trim();if(console.log("input number",d),""===d)t=5e3;else{if(!/\d+/.test(d))return t>5e4||t<5e3?alert("Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!"):void alert("".concat(d," for Maximum items is not an integer"));t=parseInt(d)}if(t>5e4||t<5e3)return alert("The input is out of the range, please input a number between 5000 ~ 50000");if(["Random","Simplex","Parti"].includes(n.props.mode)){if(e<3)return alert("You should select at least three attributes");if(e>5)return alert("You should not select more than five attributes")}else{var h=parseInt(prompt("Please input an integer more than "+n.props.attributes.length));if(!(/(^[1-9]\d*$)/.test(h)&&h>=n.props.attributes.length))return alert("Illegal number!");n.props.changeK(h)}var f=y(n.props.points,a,r,t);if(0!==f.length){console.log("attr",n.props.attributes);var b=n.props.attributes.map(function(e){var t=Object(l.a)(e,2),a=t[0];t[1];return n.props.mask[a]}),v=n.props.attributes.map(function(e){var t=Object(l.a)(e,2);t[0];return t[1].smallerBetter?1:0}),g=P(f,v,b);return g<10?(console.log("skyline",g),alert("Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!")):["graphDP","biSearch","sweepDP"].includes(n.props.mode)&&2!=Object.values(n.props.mask).filter(function(e){return 1===e}).length?alert('You should select only two attributes to perform "graphDP" or "biSearch" or "sweepDP"'):void n.props.startAlgorithm(f)}alert("No matching Tuples, try larger ranges")},n.handleChange=function(e){if(["graphDP","biSearch","sweepDP"].includes(e.target.value)&&(console.log(n.props.mask),Object.values(n.props.mask).filter(function(e){return 1===e}).length>2))return alert(e.target.value+" only supports 2D data!"),void(e.target.value=n.props.mode);console.log(e.target.value),n.props.changeMode(e.target.value)},n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;this.inputs={},this.props.attributes.forEach(function(t){var n=Object(l.a)(t,2),a=n[0];n[1];e.inputs[a]=[N.a.createRef(),N.a.createRef()]}),this.inputs.maxPoints=N.a.createRef();var t=this.props.attributes.map(function(t,n){var a=Object(l.a)(t,2),r=a[0],i=a[1],o=0===e.props.mask[r],s=i.low,c=i.high;return N.a.createElement("tr",{key:r},N.a.createElement("td",{className:"align-middle"},N.a.createElement("span",{onClick:function(){console.log("mode",e.props.mode),e.props.toggleMask(r,1-e.props.mask[r])},className:"".concat(e.props.mask[r]?"attribute-select":null),style:{cursor:"pointer",textDecoration:e.props.mask[r]?"":"line-through"}},r)),N.a.createElement("td",null,N.a.createElement("input",{type:"text",className:"form-control",placeholder:s,ref:e.inputs[r][0],disabled:o})),N.a.createElement("td",null,N.a.createElement("input",{type:"text",className:"form-control",placeholder:c,ref:e.inputs[r][1],disabled:o})),N.a.createElement("td",{className:"align-middle hidden"},N.a.createElement("input",{type:"checkbox",checked:o,onChange:function(){return e.props.toggleMask(r,1-e.props.mask[r])}})),N.a.createElement("td",{className:"align-middle",onClick:function(){e.props.attributes[n][1].smallerBetter=!e.props.attributes[n][1].smallerBetter,e.setState({attributes:e.props.attributes})}},e.props.attributes[n][1].smallerBetter?N.a.createElement("span",{style:{background:"#ff8737",padding:"5px",borderRadius:"5px",color:"white"}},"Yes"):N.a.createElement("span",null,"No")))});return t.push(N.a.createElement("tr",{key:"other"},N.a.createElement("td",{className:"align-middle font-weight-bold"},"Max No. of Tuples"),N.a.createElement("td",null,N.a.createElement("input",{type:"text",className:"form-control",placeholder:"5000",ref:this.inputs.maxPoints})),N.a.createElement("td",{style:{textAlign:"left"}},N.a.createElement("label",{className:"mr-4 col-form-label font-weight-bold"},"Mode"),N.a.createElement("div",{className:"mr-3 form-check form-check-inline"},N.a.createElement("div",null,N.a.createElement("select",{onChange:this.handleChange},N.a.createElement("option",{value:"DMM"},"DMM"),N.a.createElement("option",{value:"cube"},"cube"),N.a.createElement("option",{value:"sphere"},"sphere"),N.a.createElement("option",{value:"Simplex"},"Simplex"),N.a.createElement("option",{value:"Random"},"Random"),N.a.createElement("option",{value:"Random"},"Parti"),N.a.createElement("option",{value:"graphDP"},"graphDP"),N.a.createElement("option",{value:"biSearch"},"biSearch"),N.a.createElement("option",{value:"sweepDP"},"sweepDP"),N.a.createElement("option",{value:"IncGreedy"},"IncGreedy"))))))),N.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"50rem"}},N.a.createElement("img",{alt:"",onClick:function(){return window.location.reload()},src:_.a,style:{width:"50px",position:"absolute",top:"15px",left:"15px",cursor:"pointer"}}),N.a.createElement("div",{type:"button",title:"Format of Input file\r ------------------------------------\r\r The format of the first line is: n d\r n - the number of tuples in the dataset, integer\r d - dimensionality, integer\r The format of the second line is:\r <A1> <A2> ... <Ad>\r Ai - the i-th attribute name, string\r The format of the following n lines is\r <dim 1> <dim 2> ... <dim d>.\r Each line corresponds to a tuple.",className:"btn btn-primary upload",style:{position:"absolute",top:"15px",right:"15px",width:"8rem"},onClick:this.upload},"Upload"),N.a.createElement("img",{alt:"",src:W.a,style:{width:"400px"}}),N.a.createElement("br",null),N.a.createElement("br",null),N.a.createElement("table",{className:"table"},N.a.createElement("thead",null,N.a.createElement("tr",null,N.a.createElement("th",{className:"align-middle"},"Attribute"),N.a.createElement("th",null,"Lower bound"),N.a.createElement("th",null,"Upper bound"),N.a.createElement("th",null,"Smaller better"),N.a.createElement("th",{className:"hidden"},"Discard"))),N.a.createElement("tbody",null,t)),N.a.createElement("div",null,N.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Start")))}}]),t}(N.a.Component),U=Object(I.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{startAlgorithm:function(t){e(function(e){return{type:"SET_CANDIDATES",candidates:e}}(t)),e(p("Interaction"))},toggleMask:function(t,n){return e(function(e,t){return{type:"TOGGLE_MASK",mask:Object(u.a)({},e,t)}}(t,n))},changeMode:function(t){return e(function(e){return{type:"SET_MODE",mode:e}}(t))},changeK:function(t){return e(function(e){return{type:"SET_K",K:e}}(t))},setDataset:function(t,n,a){return e(function(e,t,n){return{type:"SET_DATASET",points:e,labels:t,attributes:n}}(t,n,a))}}})(G),H=n(3),z=function(e){function t(e){var n;if(Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e))).next=function(){var e=x(n.runner.getIndices());if(!n.selectedPoint||n.selectedPoint.length!==e.length){n.selectedPoint=e;var t=new Date;n.runner.Next_IncGreedy();var a=new Date;console.log(a-t);var r=n.state.performanceIndex;r.push({x:r.length,y:n.runner.getMrr(),runtime:a-t,mrr:n.runner.getMrr()}),n.setState({performanceIndex:r})}},n.choose=function(e){var t=e+1;n.runner.choose(t);var a=A(window.Module.readConvexHullVertices()),r=window.Module.readMaxDist();console.log("read convexhullvertices:",a,r),n.props.updateConvexHull(a),n.props.setLeftPrefer(r);var l=n.runner.getCandidatesIndices(),i=O(n.prevIndices,l),o=n.props.numLeftPoints.length;if(n.props.prunePoints(i,o),n.prevIndices.delete(),n.prevIndices=l,l.size()<2)n.stopInteraction();else{var s=n.runner.nextPair();n.setState({pair:x(s)})}},n.stopInteraction=function(){n.prevIndices.delete(),n.runner.delete(),n.props.showResult()},n.inputDimension=function(){var e=prompt("Please input "+n.attributes.length+" dimensions. e.g: one integer value for each attribute. A larger value indicates that the corresponding attribute is more important. e.g.",n.attributes.map(function(e){return Math.floor(10*Math.random())}));if(e){var t=e.trim().split(",").map(function(e){return parseInt(e)});if(t.includes(NaN)||t.length!==n.attributes.length||t.some(function(e){return e<0}))return alert("Illegal number set!");n.runner.globalBest_localBest(k(t)),n.global_local_regret={globalBest:n.props.candidates[n.runner.get_globalBestId()],localBest:n.props.candidates[n.runner.get_localBestId()],regretRatio:n.runner.get_regret_ratio()},n.setState({global_local_regret:n.global_local_regret})}},f=new window.Module.VectorInt,v=new window.Module.VectorInt,n.attributes=[],n.props.attributes.forEach(function(e){var t=Object(l.a)(e,2),a=t[0],r=t[1];console.log(n.props.mask[a]),v.push_back(n.props.mask[a]),n.props.mask[a]&&(f.push_back(r.smallerBetter?1:0),n.attributes.push(a))}),console.log(n.props.candidates),b=w(n.props.candidates),!["Random","Simplex","Parti"].includes(n.props.mode)){var a=new Date;n.runner=new window.Module.SevenAlgorithmRunner(b,f,v,{DMM:4,cube:5,sphere:6,graphDP:7,biSearch:8,sweepDP:9,IncGreedy:10}[n.props.mode],n.props.K);var r=new Date;return n.state={performanceIndex:[{x:0,y:n.runner.getMrr(),runtime:r-a,mrr:n.runner.getMrr()}]},console.log(n.runner),b.delete(),Object(V.a)(n,n.pageResult="NewAlgorithm")}if(n.runner=new window.Module.AlgorithmRunner(b,f,v,{Random:1,Simplex:2,Parti:3}[n.props.mode]),console.log(n.runner),b.delete(),n.prevIndices=n.runner.getCandidatesIndices(),n.props.setLeftPoints(x(n.prevIndices)),n.prevIndices.size()<2)n.state={pair:[]},n.stopInteraction();else{var i=window.Module.readConvexHullVertices(),o=window.Module.readMaxDist(),s=A(i);i.delete(),console.log("create convexhullvertices:",s,o),n.props.updateConvexHull(s),n.props.setLeftPrefer(o);var c=n.runner.nextPair();n.state={pair:x(c)}}return Object(V.a)(n,n.pageResult="OldAlgorithm")}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this;if("OldAlgorithm"===this.pageResult){var t=[N.a.createElement("th",{key:"Option No."},"Option")];this.attributes.forEach(function(e){t.push(N.a.createElement("th",{key:e},e))}),t.push(N.a.createElement("th",{key:"chooseButton"}));var n=this.state.pair.map(function(t,n){var a=[N.a.createElement("td",{key:"Option No."},n+1)];return e.props.candidates[t].forEach(function(t,n){e.props.mask[e.props.attributes[n][0]]&&a.push(N.a.createElement("td",{key:n},t))}),a.push(N.a.createElement("td",{key:"chooseButton"},N.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:function(){e.choose(n)}},"Choose"))),N.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},a)});return N.a.createElement("div",null,N.a.createElement("h2",{style:{background:"gainsboro",borderRadius:"5px",padding:"5px"}},"Your Choice"),N.a.createElement("h4",null,"Q",this.props.numLeftPoints.length,": Choose the Tuple You Favor More among the Following Options"),N.a.createElement("div",{className:"row justify-content-center align-items-center"},N.a.createElement("div",{className:"col-md-8"},N.a.createElement("table",{className:"table table-hover text-center"},N.a.createElement("thead",null,N.a.createElement("tr",null,t)),N.a.createElement("tbody",null,n))),N.a.createElement("div",{className:"col-md-1"},N.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.stopInteraction},"Stop"))))}var a=[N.a.createElement("th",{key:"Option No."},"Option ID")];this.attributes.forEach(function(e){a.push(N.a.createElement("th",{key:e},e))});var r=x(this.runner.getIndices());console.log(r),console.log(this.runner.getMrr());var l=r.slice(-this.props.K).map(function(t,n){var a=[N.a.createElement("td",{key:"Option No."},t)];if(console.log(t),-1!==t)return e.props.candidates[t].forEach(function(t,n){e.props.mask[e.props.attributes[n][0]]&&a.push(N.a.createElement("td",{key:n},t))}),N.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.attributes[t]},a)});return N.a.createElement("div",null,N.a.createElement("br",null),N.a.createElement("div",{style:{borderRadius:"5px",padding:"5px",fontSize:"22px"}},N.a.createElement("span",{style:{color:"#ff8737"}},this.props.mode)," selects at most k tuples for you"),N.a.createElement("br",null),N.a.createElement("table",{style:{borderBottom:"1px solid gainsboro"},className:"table table-hover text-center"},N.a.createElement("thead",null,N.a.createElement("tr",null,a)),N.a.createElement("tbody",null,l)),N.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"0 10px"}},N.a.createElement("div",null,"Output size: ",r.length),N.a.createElement("div",{onClick:this.inputDimension,style:{background:"#ff8737",color:"white",padding:"5px",borderRadius:"5px"}},"Input D Dimensions")),N.a.createElement("br",null),"IncGreedy"===this.props.mode?N.a.createElement("div",null,N.a.createElement("div",{style:{margin:"auto",width:"30rem",height:"28rem"}},N.a.createElement(H.b,{onMouseLeave:function(){e.setState({hintValue:null})}},N.a.createElement(H.e,{tickValues:this.state.performanceIndex.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"black"}}}),N.a.createElement(H.f,{style:{ticks:{fill:"black"}}}),N.a.createElement(H.a,{text:"Rounds",includeMargin:!1,xPercent:.82,yPercent:1.06,style:{style:{fill:"black"}}}),N.a.createElement(H.a,{text:"MRR(maximun regret ratio)",includeMargin:!1,xPercent:-.01,yPercent:.05,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"black"}}}),N.a.createElement(H.d,{color:"#ff8737",onNearestX:function(t,n){var a=n.index;e.setState({hintValue:""+a})},data:this.state.performanceIndex,animation:!0}),this.state.hintValue&&N.a.createElement(H.c,{value:this.state.hintValue},N.a.createElement("p",{style:{color:"black",textAlign:"left"}},"Runtime: ",this.state.performanceIndex[this.state.hintValue].runtime,"ms",N.a.createElement("br",null),"Mrr: ",this.state.performanceIndex[this.state.hintValue].mrr.toFixed(4))))),N.a.createElement("div",{style:{background:"#ff8737",margin:"auto",width:"100px",color:"white",borderRadius:"3.25rem",padding:"5px"},onClick:this.next},"Next")):N.a.createElement("div",{style:{textAlign:"left",padding:"8px",borderRadius:"5px",background:"gainsboro"}},this.props.mode," runtime: ",this.state.performanceIndex[0].runtime," ms  ",N.a.createElement("br",null)," MRR(maximun regret ratio): ",this.state.performanceIndex[0].mrr),N.a.createElement("br",null),this.global_local_regret?N.a.createElement("div",{style:{background:"#ff8737",color:"white",textAlign:"left",borderRadius:"5px",padding:"8px"}},N.a.createElement("div",null,"Your global favorite tuple is:",N.a.createElement("br",null),N.a.createElement("table",{style:{borderBottom:"1px solid gainsboro"},className:"table table-hover text-center"},N.a.createElement("thead",null,N.a.createElement("tr",null,a)),N.a.createElement("tbody",null,function(){var t=[N.a.createElement("td",{key:"Option No."},e.runner.get_globalBestId())];return e.global_local_regret.globalBest.forEach(function(n,a){e.props.mask[e.props.attributes[a][0]]&&t.push(N.a.createElement("td",{key:a},n))}),t}()))),N.a.createElement("div",null,"Your local favorite tuple is:",N.a.createElement("br",null),N.a.createElement("table",{style:{borderBottom:"1px solid gainsboro"},className:"table table-hover text-center"},N.a.createElement("thead",null,N.a.createElement("tr",null,a)),N.a.createElement("tbody",null,function(){var t=[N.a.createElement("td",{key:"Option No."},e.runner.get_localBestId())];return e.global_local_regret.localBest.forEach(function(n,a){e.props.mask[e.props.attributes[a][0]]&&t.push(N.a.createElement("td",{key:a},n))}),t}()))),N.a.createElement("div",null,"Your regret ratio is: ",this.global_local_regret.regretRatio)):"",N.a.createElement("br",null),N.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.location.reload()}},"Return to Welcome"),N.a.createElement("br",null))}}]),t}(N.a.Component),Y=Object(I.b)(function(e){return{labels:e.labels,candidates:e.candidates,mask:e.mask,attributes:e.attributes,numLeftPoints:e.numLeftPoints,mode:e.mode,K:e.K,vertices:e.vertices}},function(e){return{showResult:function(){e(p("Result"))},setLeftPoints:function(t){e(function(e){return{type:"SET_LEFT_POINTS",indices:e}}(t))},prunePoints:function(t,n){e(function(e,t){return{type:"PRUNE_POINTS",indices:e,step:t}}(t,n))},updateConvexHull:function(t){e(function(e){return{type:"UPDATE_CONVEX_HULL",vertices:e}}(t))},setLeftPrefer:function(t){e(m(t))}}})(z),Z=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e)))._onMouseLeave=function(){n.setState({hintValue:null})},n._onNearestX=function(e,t){var a=t.index;n.setState({hintValue:n.props.data[a]})},n.state={hintValue:null},n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return N.a.createElement("div",{className:"row justify-content-center",style:{width:"25rem"}},N.a.createElement("h4",null,"No. of Tuples Left vs. No. of Questions Asked"),N.a.createElement("div",{style:{width:"25rem",height:"25rem"}},N.a.createElement(H.b,{onMouseLeave:this._onMouseLeave},N.a.createElement(H.e,{tickValues:this.props.data.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"black"}}}),N.a.createElement(H.f,{style:{ticks:{fill:"black"}}}),N.a.createElement(H.a,{text:"Question No.",includeMargin:!1,xPercent:.82,yPercent:1.06,style:{style:{fill:"black"}}}),N.a.createElement(H.a,{text:"No. of Tuples Left",includeMargin:!1,xPercent:-.01,yPercent:.05,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"black"}}}),N.a.createElement(H.d,{color:"#ff8737",onNearestX:this._onNearestX,data:this.props.data,animation:!0}),this.state.hintValue&&N.a.createElement(H.c,{value:this.state.hintValue},N.a.createElement("p",{style:{color:"black"}},"Q",this.state.hintValue.x,": ",this.state.hintValue.y," Tuples Left")))))}}]),t}(N.a.Component),K=Object(I.b)(function(e){var t=e.numLeftPoints,n=e.leftPoints;return{data:t.map(function(e,t){return{x:t,y:e}}),leftPoints:n}})(Z),J=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e)))._onMouseLeave=function(){n.setState({hintValue:null})},n._onNearestX=function(e,t){var a=t.index;n.setState({hintValue:n.props.data[a]})},n.state={hintValue:null},n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return N.a.createElement("div",{className:"row justify-content-center",style:{width:"25rem"}},N.a.createElement("h4",null,"Regret ratio bound vs. No. of Questions Asked"),N.a.createElement("div",{style:{width:"25rem",height:"25rem"}},N.a.createElement(H.b,{onMouseLeave:this._onMouseLeave},N.a.createElement(H.e,{tickValues:this.props.data.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"black"}}}),N.a.createElement(H.f,{style:{ticks:{fill:"black"}}}),N.a.createElement(H.a,{text:"Question No.",includeMargin:!1,xPercent:.82,yPercent:1.06,style:{style:{fill:"black"}}}),N.a.createElement(H.a,{text:"\u221d Regret ratio bound",includeMargin:!1,xPercent:-.01,yPercent:.05,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"black"}}}),N.a.createElement(H.d,{color:"#ff8737",onNearestX:this._onNearestX,data:this.props.data,animation:!0}),this.state.hintValue&&N.a.createElement(H.c,{value:this.state.hintValue},N.a.createElement("p",{style:{color:"black"}},"Q",this.state.hintValue.x,": ",this.state.hintValue.y," Tuples Left")))))}}]),t}(N.a.Component),Q=Object(I.b)(function(e){return{data:e.numLeftPrefer.map(function(e,t){return{x:t,y:e}})}})(J),X=n(31),q=n(42);window.THREE=q,n(97),n(98),n(99);var $=q,ee=100,te=10,ne=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(i)))).drawGeometry=function(){var e=a.props.vertices.map(function(e){return e});if(e.length<4){if(3!=e.length)return;var t=e.at(0);e.push(t)}var n=e.map(function(e){var t=e.map(function(e){return e*ee});return Object(X.a)($.Vector3,Object(s.a)(t))}),r=new $.ConvexGeometry(n),l=new $.MeshBasicMaterial({color:8900331,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,opacity:.75,transparent:!0});a.mesh=new $.Mesh(r,l);var i=new $.EdgesGeometry(r),o=new $.LineBasicMaterial({color:0,linewidth:2}),c=new $.LineSegments(i,o);a.mesh.add(c),a.scene.add(a.mesh)},a.addAxes=function(){var e=new $.AxesHelper(1.5*ee);a.scene.add(e);var t=n(59),r=new $.Font(t);[[16711680,[ee+ee/(2*te),0,0],[Math.PI/2,Math.PI,0]],[65280,[0,ee-ee/(2*te),0],[Math.PI/2,Math.PI/2,0]],[255,[ee/(te*Math.sqrt(2)),-ee/(te*Math.sqrt(2)),ee],[Math.PI/2,3*Math.PI/4,0]]].forEach(function(e){var t,n,i=Object(l.a)(e,3),o=i[0],c=i[1],u=i[2],p=r.generateShapes("1",ee/te),m=new $.ShapeBufferGeometry(p),d=new $.Mesh(m,new $.MeshBasicMaterial({color:o,side:$.DoubleSide}));(t=d.position).set.apply(t,Object(s.a)(c)),(n=d.rotation).set.apply(n,Object(s.a)(u)),a.scene.add(d)}),window.lines=[],[[16711680,[ee,0,0],[0,0,0]],[65280,[0,ee,0],[0,0,-Math.PI/2]],[255,[0,0,ee],[0,0,-Math.PI/2]]].forEach(function(e){var t,n,r=Object(l.a)(e,3),i=r[0],o=r[1],c=r[2],u=new $.LineBasicMaterial({color:i}),p=new $.Geometry;p.vertices.push(new $.Vector3(0,0,0),new $.Vector3(0,ee/(2*te)));var m=new $.Line(p,u);(t=m.position).set.apply(t,Object(s.a)(o)),(n=m.rotation).set.apply(n,Object(s.a)(c)),a.scene.add(m),window.lines.push(m)})},a.start=function(){a.frameId||(a.frameId=window.requestAnimationFrame(a.animate))},a.stop=function(){window.cancelAnimationFrame(a.frameId)},a.animate=function(){a.controls.update(),a.renderer.render(a.scene,a.camera),a.frameId=window.requestAnimationFrame(a.animate)},a}return Object(L.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;console.log("three vertices",this.props.vertices),this.scene=new $.Scene,this.camera=new $.PerspectiveCamera(75,e/t,.1,1e3),this.camera.position.set(1.5*ee,1.5*ee,.5*ee),this.camera.up.set(0,0,1),this.controls=new $.OrbitControls(this.camera,this.mount),this.controls.update(),this.renderer=new $.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(16777215),this.renderer.setSize(e,t),this.mount.appendChild(this.renderer.domElement),this.addAxes(),this.drawGeometry(),this.start()}},{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&(this.mesh&&(this.scene.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.dispose()),this.drawGeometry())}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return N.a.createElement("div",{className:"col",style:{width:"25rem",height:"25rem"},ref:function(t){e.mount=t}})}}]),t}(N.a.Component),ae=n(65),re=n.n(ae),le=n(44),ie=n(43);function oe(e){var t=e.color;return N.a.createElement("div",{style:{width:"100%",height:"2rem",alignItems:"center",display:"flex"}},N.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:t}}))}function se(e){var t=e.text;return N.a.createElement("div",{style:{height:"2rem",alignItems:"center",display:"flex",justifyContent:"center"}},t)}var ce=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e))).attributes=[],n.props.attributes.forEach(function(e){var t=Object(l.a)(e,1)[0];n.props.mask[t]&&n.attributes.push(t)}),n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,vertical:!0,verticalSwiping:!0,arrows:!1,swipeToSlide:!0,afterChange:this.props.changeStartingIndex};return N.a.createElement("div",{title:"Click the arrows to change the selected attributes for displaying the convex hull.",style:{width:"12rem"}},N.a.createElement("div",{style:{alignItems:"center",width:"4rem",display:"inline-block",verticalAlign:"middle"}},N.a.createElement(oe,{color:"#ff0000"}),N.a.createElement(oe,{color:"#00ff00"}),N.a.createElement(oe,{color:"#0000ff"})),N.a.createElement("div",{style:{width:"8rem",display:"inline-block",verticalAlign:"middle"}},N.a.createElement("div",{onClick:function(){return e.slider.slickPrev()},style:{cursor:"pointer"}},N.a.createElement(le.a,{icon:ie.b})),N.a.createElement(re.a,Object.assign({},t,{ref:function(t){return e.slider=t}}),this.attributes.map(function(e,t){return N.a.createElement(se,{key:t,text:e})})),N.a.createElement("div",{onClick:function(){return e.slider.slickNext()},style:{cursor:"pointer"}},N.a.createElement(le.a,{icon:ie.a}))))}}]),t}(N.a.Component),ue=Object(I.b)(function(e){return{mask:e.mask,attributes:e.attributes}})(ce),pe=100,me=10,de=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(i)))).drawGeometry=function(){var e=a.props.vertices.map(function(e){return e});if(e.length<4){if(3!=e.length)return;var t=e.at(0);e.push(t)}var n=e.map(function(e){var t=e.map(function(e){return e*pe});return Object(X.a)($.Vector3,Object(s.a)(t))}),r=new $.Geometry;n.map(function(e){r.vertices.push(e)});var l=(new $.TextureLoader).load(a.ballIcon),i=new $.PointsMaterial({color:16711680,size:5,sizeAttenuation:!1,map:l,alphaTest:.5,transparent:!0});a.field=new $.Points(r,i),a.scene.add(a.field)},a.addAxes=function(){var e=new $.AxesHelper(1.5*pe);a.scene.add(e);var t=n(59),r=new $.Font(t);[[16711680,[pe+pe/(2*me),0,0],[Math.PI/2,Math.PI,0]],[65280,[0,pe-pe/(2*me),0],[Math.PI/2,Math.PI/2,0]],[255,[pe/(me*Math.sqrt(2)),-pe/(me*Math.sqrt(2)),pe],[Math.PI/2,3*Math.PI/4,0]]].forEach(function(e){var t,n,i=Object(l.a)(e,3),o=i[0],c=i[1],u=i[2],p=r.generateShapes("1",pe/me),m=new $.ShapeBufferGeometry(p),d=new $.Mesh(m,new $.MeshBasicMaterial({color:o,side:$.DoubleSide}));(t=d.position).set.apply(t,Object(s.a)(c)),(n=d.rotation).set.apply(n,Object(s.a)(u)),a.scene.add(d)}),window.lines=[],[[16711680,[pe,0,0],[0,0,0]],[65280,[0,pe,0],[0,0,-Math.PI/2]],[255,[0,0,pe],[0,0,-Math.PI/2]]].forEach(function(e){var t,n,r=Object(l.a)(e,3),i=r[0],o=r[1],c=r[2],u=new $.LineBasicMaterial({color:i}),p=new $.Geometry;p.vertices.push(new $.Vector3(0,0,0),new $.Vector3(0,pe/(2*me)));var m=new $.Line(p,u);(t=m.position).set.apply(t,Object(s.a)(o)),(n=m.rotation).set.apply(n,Object(s.a)(c)),a.scene.add(m),window.lines.push(m)})},a.start=function(){a.frameId||(a.frameId=window.requestAnimationFrame(a.animate))},a.stop=function(){window.cancelAnimationFrame(a.frameId)},a.animate=function(){a.controls.update(),a.renderer.render(a.scene,a.camera),a.frameId=window.requestAnimationFrame(a.animate)},a}return Object(L.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.ballIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4wEJAy0SzbkwSAAAA1lJREFUWMPFlktPXVUUx39rn315iAgiTWREooEEB0pMvRqv6cjXSL02oRPS0IGPST+BH8APwEximNTERBAdadVRURLvwJA2OIB0wKghFLXlcR/n7P13cO+VG0pRC1x+yUrO2a//2nuts842HsLFn/462DRkZgUgD4wDw4A1+gSsA8tASdIisNE6ef71/kN17LDG93/8c3+A2SgwARSBMaCboykDK8ACMCdptdnx9RtPHu1A8Yc/WoV7gSngKjDCo7EGTAOzknaajQtvDjzowHvXt8jM8PXGEcw+bezaPaJ4kwDMIX0iuB2AROKbt54CwDdHaf/lBcGMSS8dU7hJAlxSPWc+SuCmDobg3e/vgll95/AFcFLiBykBk4I1JL59exB757tNzAygF5gFLp6SeJN54AqwLQnnzBAgmBIUG8+nacWGFs4MHySAUerZftyE+y+4htb1AKsOCUkTSCNItMlGGpp4SUM0jr7NFAWfe0GBeoVrN2NAwUvK8+/l9TToBvJe0vgZiDcZ90jDZ+jAsNdD/ohtwrx0BvnfgleMws7oECR5xbCOS0bPxIEY1p0UlyWddv1/0CSkuOyVpSVyrmy4ttYCKZbJ0pKPteqiOb9CYufb6kAIK6pVF731ndvQ3v0FnDvfvi9SKGQL1nduw8V7m6hWmVOWrbUt/lm2plplLt7bxGVbd7Ce/tWYVqcVQqgnxylayEJMq9PW07+abd3BJ32DhPt3IWSzmCuQ67xkp1QXJEFa/SpWdmeVVkn6ButBvzD7G2Aoxmets+ua5TpfwVz98nASmIEiSmtLqpUvm7nbIG5ceXE/6y5c+x1lNRSy5y3XNWO5zjzuhG5oMaK0uqS08rEl/pb5Dm5MPge03AFV2cU9/QyYuxkru5OxujevLI3HjnmWhljd+zJWdi9j7pYbGEKV3f3DaXX0tZkSJB5iIGa1Xst1TeE7rprPjeCS/7nrgLJ0jaw2rVpl1uU6dnAJhIyfP8gf7kCTwkwJJFz344S97VF8boLEF80lY7ikux6ag1MFMUIMZcWwQsgWyNK55LHe1VjeATN+aRE+0gGAVz/7tb6gc7juJ8h2t4bM5Qq4JG/OjWM2jLn6fEUhrSvGZWIoKaaLvmdgI5a3/1lj6cOXD9X5G6RjiArvrkCeAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAxLTA5VDAzOjQ1OjE4KzA4OjAwD0AhlwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMS0wOVQwMzo0NToxOCswODowMH4dmSsAAABDdEVYdHNvZnR3YXJlAC91c3IvbG9jYWwvaW1hZ2VtYWdpY2svc2hhcmUvZG9jL0ltYWdlTWFnaWNrLTcvL2luZGV4Lmh0bWy9tXkKAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAA1MTKPjVOBAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADUxMhx8A9wAAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU0Njk3NjcxOH7TBZQAAAASdEVYdFRodW1iOjpTaXplADEwMzc4QhMA4VoAAABidEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3QvbmV3c2l0ZS93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vZmlsZXMvMTE4LzExODU3NTcucG5nEqSH3wAAAABJRU5ErkJggg==",this.scene=new $.Scene,this.camera=new $.PerspectiveCamera(75,e/t,.1,1e3),this.camera.position.set(1.5*pe,1.5*pe,.5*pe),this.camera.up.set(0,0,1),this.controls=new $.OrbitControls(this.camera,this.mount),this.controls.update(),this.renderer=new $.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(16777215),this.renderer.setSize(e,t),this.mount.appendChild(this.renderer.domElement),this.addAxes(),this.drawGeometry(),this.start()}},{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&(this.field&&this.scene.remove(this.field),this.drawGeometry())}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return N.a.createElement("div",{className:"col",style:{height:"25rem",width:"25rem"},ref:function(t){e.mount=t}})}}]),t}(N.a.Component),he=function(e){function t(e){var n;Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e))).updateContextHullVertices=function(e){var t=n.props.vertices.map(function(t){for(var n=[],a=0;a<3;++a)n.push(t[(a+e)%4]);return n});n.setState({convexHullVertices:t})},n.updatePointsHullVertices=function(e){var t=n.props.leftPoints.map(function(e){return n.props.candidates[e].map(function(e,t){return(e-n.props.attributes[t][1].low)/(n.props.attributes[t][1].high-n.props.attributes[t][1].low)})}).map(function(t){for(var n=[],a=0;a<3;++a)n.push(t[(a+e)%4]);return n});n.setState({pointsHullVertices:t})},n.changeStartingIndex=function(e){n.setState({index:e}),n.updateContextHullVertices(e),n.updatePointsHullVertices(e)};var a=n.props.leftPoints.map(function(e){return n.props.candidates[e].map(function(e,t){return(e-n.props.attributes[t][1].low)/(n.props.attributes[t][1].high-n.props.attributes[t][1].low)})});return n.state={index:0,convexHullVertices:e.vertices.map(function(e){return e.slice(0,3)}),pointsHullVertices:a.map(function(e){return e.slice(0,3)})},n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&this.updateContextHullVertices(this.state.index),this.props.leftPoints!==e.leftPoints&&this.updatePointsHullVertices(this.state.index)}},{key:"render",value:function(){return console.log("convertexs",this.props.vertices),N.a.createElement("div",{classname:"row justify-content-center"},N.a.createElement("h4",null,"Preference Space and Data Space"),N.a.createElement("div",{style:{display:"flex"}},N.a.createElement(ne,{vertices:this.state.convexHullVertices}),N.a.createElement("div",{style:{top:"2rem",left:"20rem"}},N.a.createElement(ue,{changeStartingIndex:this.changeStartingIndex})),N.a.createElement(de,{vertices:this.state.pointsHullVertices})))}}]),t}(N.a.Component),fe=Object(I.b)(function(e){return{vertices:e.vertices,leftPoints:e.leftPoints,attributes:e.attributes,candidates:e.candidates}},function(e){return{setLeftPrefer:function(t){e(m(t))}}})(he);var be=function(){return N.a.createElement("div",null,N.a.createElement("h2",{style:{background:"gainsboro",borderRadius:"5px",padding:"5px"}},"Visuals"),N.a.createElement("div",{className:"row justify-content-center"},N.a.createElement("div",{className:"",style:{display:"flex",justifyContent:"sapce-evenly"}},N.a.createElement(K,null),N.a.createElement("div",{style:{width:"100px"}}),N.a.createElement(Q,null)),N.a.createElement("div",{className:""},N.a.createElement(fe,null))))},ve=n(13),ge=n.n(ve),Ee=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(V.a)(this,Object(D.a)(t).call(this,e))).attributes=[],n.props.attributes.forEach(function(e){var t=Object(l.a)(e,2),a=t[0];t[1];n.props.mask[a]&&n.attributes.push(a)}),n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t=[N.a.createElement("th",{key:"Step No."},"Step")];this.attributes.forEach(function(e){t.push(N.a.createElement("th",{key:e},e))});var n=this.props.prunedPoints.map(function(t,n){var a=Object(l.a)(t,2),r=a[0],i=a[1];return N.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[r]},[N.a.createElement("td",null,i)].concat(e.props.candidates[r].map(function(t,n){if(e.props.mask[e.props.attributes[n][0]])return N.a.createElement("td",{key:n},t)})))}),a=this.props.leftPoints.map(function(t,n){return N.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},e.props.candidates[t].map(function(t,n){if(e.props.mask[e.props.attributes[n][0]])return N.a.createElement("td",{key:n},t)}))});this.props.leftPoints.map(function(t){return e.props.candidates[t].map(function(t,n){return(t-e.props.attributes[n][1].low)/(e.props.attributes[n][1].high-e.props.attributes[n][1].low)})});return N.a.createElement("div",null,N.a.createElement("h2",{style:{background:"gainsboro",borderRadius:"5px",padding:"5px"}},"Statistics"),N.a.createElement("div",{className:"",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},N.a.createElement("div",{className:""},N.a.createElement("h4",null,"The No. of Tuples Pruned: ",this.props.prunedPoints.length),N.a.createElement("table",{className:ge()("table","table-hover",{"table-fixed":n.length>7}),style:{minWidth:"37rem"}},N.a.createElement("thead",null,N.a.createElement("tr",null,t)),N.a.createElement("tbody",null,n))),N.a.createElement("div",{style:{background:"gainsboro",height:"20px",margin:"10px"}}),N.a.createElement("div",{className:""},N.a.createElement("h4",null,"The No. of Tuples Left in the Database:"," ",this.props.leftPoints.length),N.a.createElement("table",{className:ge()("table","table-hover",{"table-fixed":a.length>7}),style:{minWidth:"30rem"}},N.a.createElement("thead",null,N.a.createElement("tr",null,t.slice(1))),N.a.createElement("tbody",null,a)))))}}]),t}(N.a.Component),ye=Object(I.b)(function(e){return{labels:e.labels,candidates:e.candidates,prunedPoints:e.prunedPoints,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask}})(Ee);var we=Object(I.b)(function(e){return{mode:e.mode}})(function(e){var t=e.mode;return["Random","Simplex","Parti"].includes(t)?N.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"}},N.a.createElement("div",null,N.a.createElement(Y,null),N.a.createElement(be,null)),N.a.createElement("div",{style:{margin:"20px"}}),N.a.createElement(ye,null)):N.a.createElement("div",null,N.a.createElement("img",{alt:"",onClick:function(){return window.location.reload()},src:_.a,style:{width:"50px",position:"absolute",top:"15px",left:"15px",cursor:"pointer"}}),N.a.createElement(Y,null))});var Ae=Object(I.b)(function(e){return{labels:e.labels,candidates:e.candidates,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask,numLeftPoints:e.numLeftPoints}},function(e){return{restart:function(){e(p("Welcome")),e({type:"RESTART"})}}})(function(e){var t=e.labels,n=e.candidates,a=e.leftPoints,r=e.attributes,i=e.mask,o=e.numLeftPoints,s=e.restart,c=[];r.forEach(function(e){var t=Object(l.a)(e,2),n=t[0];if(t[1],i[n]){var a=N.a.createElement("th",{key:n},n);c.push(a)}});var u=a.map(function(e,a){return N.a.createElement("tr",{key:a,"data-toggle":"tooltip",title:t[e]},n[e].map(function(e,t){if(i[r[t][0]])return N.a.createElement("td",{key:t},e)}))});return N.a.createElement("div",{className:"justify-content-center"},N.a.createElement("h4",null,"The Total No. of Questions Asked is: ",o.length-1,"."),N.a.createElement("h4",null,1===a.length?"Your Favourite Tuple is:":"".concat(a.length," Tuples Left in the Database:")),N.a.createElement("table",{className:ge()("table","table-hover",{"table-fixed":u.length>7}),style:{maxWidth:"40rem",margin:"auto"}},N.a.createElement("thead",null,N.a.createElement("tr",null,c)),N.a.createElement("tbody",null,u)),N.a.createElement("div",{className:"d-flex justify-content-center my-3"},N.a.createElement(K,null)),N.a.createElement("div",null,N.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:s},"Return to Welcome")))});var xe=Object(I.b)(function(e){return{activeComponent:e.activeComponent}})(function(e){switch(e.activeComponent){case"Welcome":return N.a.createElement(U,null);case"Interaction":return N.a.createElement(we,null);case"Result":return N.a.createElement(Ae,null);default:return N.a.createElement("div",null)}});window.Module={onRuntimeInitialized:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,i,s,c,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("./datasets/cars.txt","./datasets/labelsOfCars.txt");case 2:t=e.sent,n=Object(l.a)(t,2),a=n[0],i=n[1],c={},(s=[["Price (USD)",{low:1e3,high:5e4,smallerBetter:!0}],["Year",{low:2001,high:2017,smallerBetter:!1}],["Power (HP)",{low:50,high:400,smallerBetter:!1}],["Used KM",{low:1e4,high:15e4,smallerBetter:!0}]]).forEach(function(e,t){var n=Object(l.a)(e,2),a=n[0];n[1];c[a]=1}),console.log(c),u=Object(o.c)(S,{points:a,labels:i,attributes:s,mask:c}),Object(T.render)(N.a.createElement(I.a,{store:u},N.a.createElement(xe,null)),document.getElementById("root"));case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()};var ke=document.createElement("script");ke.src="web.js",ke.async=!0,document.body.appendChild(ke)},30:function(e,t,n){e.exports=n.p+"static/media/logo-black.4a289cfe.png"},63:function(e,t,n){e.exports=n.p+"static/media/favorite.39847071.png"},68:function(e,t,n){e.exports=n(115)}},[[68,2,1]]]);
//# sourceMappingURL=main.d34ddafd.chunk.js.map